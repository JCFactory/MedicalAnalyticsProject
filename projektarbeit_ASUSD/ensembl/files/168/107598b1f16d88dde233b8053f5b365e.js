(function(va,sa,ta,da){function ua(a){var M,I,F,B,E,v,z,o,n=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-2,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];z=n.length;I=new Array(((z+2)/3|0)*4);B=M=v=E=0;for(o=a.length;B<o;++B){F=(a.charCodeAt(B)&255)-43;if(!(F<0||F>=z)){F=n[F];if(!(F<0))switch(v){case 0:M=(F&63)<<2;++v;break;case 1:M|=(F&48)>>4;I[E++]=M;M=(F&15)<<4;++v;break;case 2:M|=(F&60)>>2;I[E++]=M;M=(F&3)<<6;++v;break;case 3:M|=F&63;I[E++]=M;v=0}}}I.length=E;return I}(function(a){function M(A,p){return A.then(function(c){var f=a.Deferred();setTimeout(function(){f.resolve(c)},p);return f})}function I(A){A=(new Zlib.Inflate(ua(A))).decompress();for(var p="",c=0;c<A.length;c++)p+=String.fromCharCode(A[c]);return a.parseJSON(p)}function F(A,p){var c={};a.each(A.widgets,function(f,d){var i={};if(a.isArray(d)){i=d[1];d=d[0]}if(a.isFunction(a.fn[d]))c[f]=a.fn[d](A,i,c,p)});return c}function B(A,p,c){var f={},d=[],i={};a.each(p,function(h){d.push(h)});d.sort(function(h,k){return(p[h].prio||50)-(p[k].prio||50)});a.each(d,function(h,k){var D=p[k];if(D.frame){h=D.frame(c);a.each(h,function(J,S){if(J!="$"){S.name=J;S.widget=D;f[k+"--"+J]=S;for(J=0;J<S.tags.length;J++){i[S.tags[J]]||(i[S.tags[J]]=[]);i[S.tags[J]].push(S)}}});c=h.$}});var g={};a.each(d,function(h,k){h=p[k];if(h.position)for(var D=0;D<h.position.length;D++)if(i.hasOwnProperty(h.position[D])){D=i[h.position[D]];g[D[0].name]||(g[D[0].name]=[]);g[D[0].name].push([k,h,D[0]]);D.push(D.shift());break}});a.each(g,function(h,k){h=k.slice();h.sort(function(J,S){return(S[1].position_order||50)-(J[1].position_order||50)});for(k=0;k<h.length;k++){var D=a('<div data-widget-name="'+h[k][0]+'"/>');D.append(h[k][1].generate);D=a("<div/>").append(D);h[k][2].$.append(D)}});return c}function E(A,p,c){p.pipes=[];var f=[];a.each(A,function(d,i){f.push(i)});f.sort(function(d,i){return(d.prio||50)-(i.prio||50)});a.each(f,function(d,i){if(i.pipe)p.pipes=p.pipes.concat(i.pipe(c))})}function v(A,p,c){var f=true,d=false,i=[],g=[],h=[],k={},D=a.extend(true,{},p);a.each(A.pipes,function(J,S){if(J=S(D,c,k)){if(J.manifest)D=J.manifest;J.undo&&i.push(J.undo);J.dundo&&h.push(J.dundo);J.eundo&&g.push(J.eundo);if(J.no_incr)f=false;if(J.all_rows)d=true}});return{manifest:D,undo:i,eundo:g,wire:k,incr_ok:f,all_rows:d,dundo:h}}function z(A,p,c,f,d,i){var g=a.extend(true,{},c.manifest),h=a.Deferred();h.resolve([g,f,0]);L(A,p,"think",1);f=function(k){var D=c.undo[k[2]](k[0],k[1],d,i);return[D[0],D[1],k[2]+1]};for(g=0;g<c.undo.length;g++)h=M(h.then(f),10);return h=h.then(function(k){L(A,p,"think",-1);return{orient:k[0],data:k[1]}})}function o(A,p,c,f,d){a.each(A.eundo,function(i,g){f=g(f,p,c,d)});return f}function n(A,p){var c=p.data("view");a(".layout",p).html('<div data-widget-name="'+c.format+'">'+A[c.format].layout(p,A)+"</div>");var f=a("div[data-widget-name="+c.format+"]",p);if(!f.hasClass("_inited")){f.addClass("_inited");A[c.format].go(p,f)}}
function s(A,p){var c,f=A.data("grid-series")||[],d={};for(c=0;c<f.length;c++)d[f[c]]=c;for(c=0;c<p.length;c++)if(!d.hasOwnProperty(p[c])){d[p[c]]=f.length;f.push(p[c])}A.data("grid-series",f);A=[];for(c=0;c<p.length;c++)A.push(d[p[c]]);return A}function q(A,p,c,f,d,i,g){var h,k=A.data("grid")||[];h=A.data("grid-manifest")||[];g=s(A,g);if(!a.orient_compares_equal(i,h)){k=[];A.data("grid-manifest",i)}for(i=0;i<p.length;i++){var D=f,J=0;if(!D){D=[];for(h=0;h<p[i].length;h++)D[d+h]=d+h}for(h=0;h<D.length;h++)if(D[h]&&D[h]>J)J=D[h];for(h=0;h<=J;h++)k[h]||(k[h]=[]);for(h=0;h<p[i].length;h++){J=null;c[i][h]||(J=p[i][h]);k[D[h+d]][g[i]]=J}}A.data("grid",k)}function C(A,p,c,f,d,i){var g=A.data("grid")||[],h=A.data("grid-series")||[],k=A.data("keymeta")||{};p=o(c,g,h,p,k)||{};var D=A.data("ranges")||{};c=A.data("range-manifest")||[];if(!a.orient_compares_equal(f,c)){D={};A.data("range-manifest",f)}a.each(p,function(J,S){var $=a.find_type(i,d.colconf[J]).merge;D[J]=$(D[J],S)});A.data("ranges",D);A.trigger("range-updated")}
function t(A,p){var c=A.data("keymeta")||{};a.each(p||{},function(f,d){c[f]||(c[f]={});a.each(d||{},function(i,g){c[f][i]||(c[f][i]={});a.each(g||{},function(h,k){c[f][i][h]||(c[f][i][h]={});a.each(k||{},function(D,J){c[f][i][h][D]=J})})})});A.data("keymeta",c)}function b(A,p,c,f,d,i,g,h){var k=a.Deferred();k.resolve([0,c]);L(A,p,"think",1);for(var D=function(S){var $=f.dundo[S[0]](d,c,i,g,h);return[S[0]+1,$]},J=0;J<f.dundo.length;J++)k=M(k.then(D),10);return k.then(function(S){L(A,p,"think",-1);return S[1]})}function j(A,p,c,f,d){console.log("render_grid",f,d);var i=p.data("view"),g=p.data("grid"),h=p.data("grid-series");if(d==-1)d=g.length;return z(A,p,c,g,h,i).then(function(k){if(c.all_rows){f=0;d=k.data.length}a.orient_compares_equal(k.orient,i)&&b(A,p,k.data,c,k.orient,h,f,d).then(function(D){A[i.format].add_data(p,D,h,f,d,k.orient);A[i.format].truncate_to(p,D,h,k.orient)})})}function r(){X=null}function l(A,p){X!==null&&j(A,p,X,W,V).then(function(){Z!==null&&Z.resolve();X=Z=null})}
function u(A,p,c,f,d){if(X===null)X=c;if(!a.orient_compares_equal(X,c)){if(Z!==null){Z.resolve();Z=null}W=f;V=d;X=c}if(Z===null)Z=a.Deferred();if(f<W){if(V>-1)V+=W-f;W=f}if(V==-1||d==-1)V=-1;else if(f+d>W+V)V=f+d-W;if(c.incr_ok||p.data("complete"))l(A,p);return Z}function G(A){var p,c=[],f=[],d=0;for(p=0;p<A.nulls.length;p++){var i=I(A.nulls[p]),g=I(A.data[p]);d+=A.len[p];for(var h=0;h<i.length;h++){if(p===0){c[h]=[];f[h]=[]}for(var k=0,D=[],J=0;J<i[h].length;J++)i[h][J]?D.push(null):D.push(g[h][k++]);c[h]=c[h].concat(D);f[h]=f[h].concat(i[h])}}return{data:c,nulls:f,totlen:d}}function O(A,p,c,f,d,i){t(p,c.keymeta);var g=p.data("manifest"),h=G(f);q(p,h.data,h.nulls,i,f.start,g.manifest,f.series);C(p,c.enums||{},g,c.shadow,d,A);var k=p.data("min-size")||0;if(k<f.shadow_num)k=f.shadow_num;p.data("min-size",k);a.each(A,function(D,J){J.size&&J.size(p,k)});return[f.start,h.totlen]}function U(A){var p={};A=A.split("?",2);if(A.length<2)return p;A=A[1].split(";");for(var c=0;c<A.length;c++){var f=A[c].split("=");p[f[0]]=f[1]}return p}function K(A,p,c,f){if(p.closest("html").length){var d=p.data("manifest");c.more&&w(A,p,d,c.more,f);if(a.orient_compares_equal(d.manifest,c.orient)){L(A,p,"think",1);var i=a.Deferred().resolve([0,-1,-1]);if(!c.more){console.log("complete");p.data("complete",true);l(A,p)}for(var g=function(k){var D=(new Date).getTime(),J=O(A,p,c,c.responses[k[0]],f,c.order);if(k[1]==-1||J[0]<k[1])k[1]=J[0];if(k[2]==-1||J[0]+J[1]>k[2])k[2]=J[0]+J[1];k=a.Deferred().resolve([k[0]+1,k[1],k[2]]);return(new Date).getTime()-
D<25?k:M(k,10)},h=0;h<c.responses.length;h++)i=i.then(g);i=i.then(function(k){return u(A,p,d,k[1],k[2]-k[1])}).then(function(){c.more||L(A,p,"load",-1);L(A,p,"think",-1)})}}}function w(A,p,c,f,d){f===null&&L(A,p,"load",1);p.data("complete",false);console.log("incomplete");if(!a.orient_compares_equal(c.manifest,ka)){console.log("Cancelling outstanding");for(var i=0;i<ha.length;i++){ha[i]&&ha[i].abort();ha[i]=null}ga=0;ka=c.manifest}ga||(ha=[]);i=p.data("payload_one");t(p,i.keymeta);if(i&&a.orient_compares_equal(c.manifest,d.orient)){p.data("payload_one","");K(A,p,i,d)}else{f===null&&L(A,p,"think",1);i=a.extend({},c.manifest,c.wire);var g=p.data("src");c=a.extend({},U(g),{keymeta:JSON.stringify(p.data("keymeta")||{}),wire:JSON.stringify(i),orient:JSON.stringify(c.manifest),more:JSON.stringify(f),config:JSON.stringify(d),series:JSON.stringify(d.columns),ssplugins:JSON.stringify(d.ssplugins),source:"enstab"});var h=ha.length;ga++;ha[h]=a.post(p.data("src"),c,function(k){ha[h]=null;ga--;f===null&&L(A,p,"think",-1);K(A,p,k,d)},"json")}}function T(A,p,c){var f=p.data("manifest")||{},d=a.extend(true,{},p.data("view"));p.data("orient",d);d=v(c,d,f.manifest);p.data("manifest",d);r();if(a.orient_compares_equal(d.manifest,f.manifest))u(A,p,d,0,-1);else{console.log("crusty data");w(A,p,d,null,c)}}function L(A,p,c,f,d){if(d!==da&&d!==null){if(oa.hasOwnProperty(d)&&f>0)return;oa[d]=1}var i=-1;la[c]||(la[c]=0);if(la[c]===0&&f)i=1;la[c]+=f;if(la[c]<0)la[c]=0;if(la[c]===0&&f)i=0;if(i==-1)return a.Deferred().resolve();d!==da&&d!==null&&i===0&&oa.hasOwnProperty(d)&&delete oa[d];a.each(A,function(h,k){if(k.flux){k.flux(p,c,i);p.trigger("flux-"+c,[i?true:false])}});var g=a.Deferred();setTimeout(function(){g.resolve()},1);return g}function m(A,p){A.trigger("flux-"+p,[la[p]?true:false])}function x(A,p){a.each(A,function(c,f){f.go_data&&f.go_data(p)})}function H(A,p,c,f){a.each(A,function(d,i){if(i.paint)f=i.paint(p,c,f)});return f}function y(A,p,c){pa++;var f=A.data("src");p=a.extend({},U(f),{activity:"save_orient",source:"enstab",keymeta:JSON.stringify(A.data("keymeta")||{}),config:JSON.stringify(p),ssplugins:JSON.stringify(p.ssplugins),orient:JSON.stringify(c),seq:pa});a.post(A.data("src"),p,function(){},"json")}function P(A,p){var c=A.data("src");p=a.extend({},U(c),{activity:"load_orient",source:"enstab",keymeta:JSON.stringify(A.data("keymeta")||{}),config:JSON.stringify(p),ssplugins:JSON.stringify(p.ssplugins)});a.post(c,p,function(f){A.data("view",f.orient);A.trigger("view-updated")},"json")}function N(A){var p=a.parseJSON(A.text()),c=[],f=[];f=F(p,function(g){var h=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);g=h[0];var k={_all:true,_any:false,_last:da};h=h.slice(1);a.each(c,function(D,J){D=f[J];if(D[g]){h.push(k._last);k[J]=D[g].apply(this,h);h.pop();k._all=k._all&&k[J];k._any=k._any||k[J];k._last=k[J]}});return k});a.each(f,function(g){c.push(g)});c.sort(function(g,h){return(f[g].prio||50)-(f[h].prio||50)});var d=a('<div class="layout"/>');d=B(p,f,d);E(f,p,d);d.data("src",A.attr("href"));A.replaceWith(d);A={columns:p.columns};var i=a.extend(true,{},p.orient);d.data("view",i).data("old-view",{}).data("config",A);d.data("payload_one",p.payload_one);delete p.payload_one;d.on("think-on",function(g,h){L(f,d,"think",1,h)});d.on("think-off",function(g,h){L(f,d,"think",-1,h)});d.on("flux-update",function(g,h){m(d,h)});n(f,d);d.on("view-updated",function(){var g=d.data("view");y(d,p,g);var h=d.data("old-view");g.format!=h.format&&n(f,d);L(f,d,"think",1).then(function(){T(f,d,p);d.data("old-view",a.extend(true,{},g));L(f,d,"think",-1)})});d.on("markup-activate",function(g,h){x(f,h)});d.on("spawn",function(g,h,k){g=d.data("src");h=a.extend({},d.data("view"),h);var D=Math.floor(Math.random()*1E9);h=a.extend({},U(g),{keymeta:JSON.stringify(d.data("keymeta")||{}),config:JSON.stringify(p),orient:JSON.stringify(h),wire:JSON.stringify(h),ssplugins:JSON.stringify(p.ssplugins),spawntoken:D,more:JSON.stringify(null),source:"enstab",incr_ok:0});var J='<form method="POST" id="spawn" action="'+g+'">';a.each(h,function(Y,Q){Q=a("<div/>").text(Q).html().replace(/"/g,"&quot;");J+='<input type="hidden" name="'+Y+'" value="'+Q+'"/>'});J+="</form><script><\/script>";k.contents().find("body").empty().append(J);k.contents().find("#spawn").submit();var S=0,$=function(){var Y=ta.cookie.split("spawntoken="),Q=null;if(Y.length==2)Q=Y.pop().split(";").shift();if(Q==D)L(f,d,"think",-1,"spawn");else S++<600&&setTimeout($,1E3)};L(f,d,"think",1,"spawn");$()});d.on("paint-individual",function(g,h,k,D){h.html(H(f,d,k,D))});a("div[data-widget-name]",d).each(function(g,h){g=a(h);h=g.attr("data-widget-name");if(!g.hasClass("_inited")){g.addClass("_inited");f[h].go(d,g)}});d.data("abandon-ship")||P(d,p)}var W=0,V=0,X=null,Z=null,ga=0,ha=[],ka={},la={},oa={},pa=+Date.now();a.orient_compares_equal=function(A,p){if(A===p)return true;if(!a.isPlainObject(A)&&!a.isArray(A))return false;if(!a.isPlainObject(p)&&!a.isArray(p))return false;if(a.isArray(A)?!a.isArray(p):a.isArray(p))return false;var c=true;a.each(A,function(f,d){a.orient_compares_equal(p[f],d)||(c=false)});a.each(p,function(f,d){a.orient_compares_equal(A[f],d)||(c=false)});return c};a.find_type=function(A,p){var c;a.each(A,function(f,d){if(d.types)for(f=0;f<d.types.length;f++)if(d.types[f].name==p.type_js)c=d.types[f]});if(c)return c;return null};a.debounce=function(A,p){var c;return function(){var f=this,d=arguments;c||(c=setTimeout(function(){c=null;A.apply(f,d)},p))}};a.whenquiet=function(A,p,c,f){var d;return function(){c&&c.trigger("think-on",[f]);var i=this,g=arguments;d&&clearTimeout(d);d=setTimeout(function(){d=null;c&&c.trigger("think-off",[f]);A.apply(i,g)},p)}};a.fn.newTable=function(){this.each(function(A,p){N(a(p))});return this}})(jQuery);(function(a){function M(I,F,B){return(parseFloat(I)-parseFloat(F))*B}a.fn.new_table_clientsort=function(I,F,B){function E(s,q,C,t,b,j){for(var r=0,l=0;l<t.length;l++){var u=t[l];if(!r){b[u.key]||(b[u.key]={});var G=s[C[u.key]],O=q[C[u.key]];(r=!!(G===null||G===da)-!!(O===null||O===da))||(r=u.fn(u.clean(G),u.clean(O),u.dir,b[u.key],j,u.key))}}return r}
function v(s){return s}function z(s){var q=[],C=true;a.each(s.sort,function(t,b){if(q)if(I.colconf[b.key]){t=a.find_type(B,I.colconf[b.key]);if(t.sort){var j=t.clean;j||(j=v);q.push({dir:b.dir,fn:t.sort,clean:j,key:b.key});I.colconf[b.key].incr_ok||(C=false)}else q=null}else q=null});if(!q)return null;q.push({dir:1,fn:M,clean:v,key:"__tie"});return{stages:q,incr_ok:C}}function o(s,q){if(!s||!q||!s.sort||!q.sort)return null;if(s.sort.length>1||q.sort.length>1)return null;if(s.sort[0].key!=q.sort[0].key)return null;if(s.sort[0].dir!=-q.sort[0].dir)return null;s.sort[0].dir*=-1;return function(C,t,b){for(var j=-1,r=0;r<b.length;r++)if(b[r]==q.sort[0].key)j=r;var l=[[],[]];a.each(t,function(u,G){l[0+(G[j]===null)].push(G)});l[0].reverse();l[1].reverse();C.sort[0].dir*=-1;return[C,l[0].concat(l[1])]}}var n={};a.each(I.columns,function(s,q){n[q]=s});return{generate:function(){},go:function(){},pipe:function(s){return[function(q,C){if(!q.sort)return null;var t=o(q,C);if(t)return{undo:t};var b=z(q);if(!b)return null;var j=q.sort;q.sort=(C||{}).sort;s.trigger("think-on",["sort"]);return{undo:function(r,l,u){for(var G={},O=0;O<u.length;O++)G[u[O]]=O;l=l.slice();a.each(l,function(w,T){T[u.length]=w});var U={},K=s.data("keymeta")||{};u=u.slice();u.push("__tie");G.__tie=u.length-1;l.sort(function(w,T){return E(w,T,G,b.stages,U,K)});r.sort=j;s.trigger("think-off",["sort"]);return[r,l]},no_incr:!b.incr_ok}}]}}}})(jQuery);(function(a){a.fn.new_table_columns=function(M,I,F,B){function E(o,n){var s=o.data("view").off_columns;a("li input",n).each(function(){var q=a(this);q.prop("checked",!s||!s[q.data("key")])})}function v(o,n){var s={};a("li input",n).each(function(){var q=a(this);s[q.data("key")]=!q.prop("checked")});n=o.data("view");n.off_columns=s;o.data("view",n).trigger("view-updated")}var z=a.debounce(function(o,n){v(o,n)},1E3);return{generate:function(){var o='<div class="col_toggle"><div class="toggle">Show/hide columns<ul class="floating_popup">';a.each(M.columns,function(n,s){n=M.colconf[s];B("unshowable",n)._any||(o+='<li><input type="checkbox" data-key="'+s+'"><span>'+(n.label||s)+"</span></li>")});o+="</ul></div></div>";return o},go:function(o,n){var s=a(".toggle",n),q=a(".floating_popup",n);s.click(function(){q.toggle()});o.on("view-updated",function(){E(o,q)});a("li",q).click(function(){var C=a("input",this);C.prop("checked",!C.prop("checked"));z(o,q);return false});a("input",q).click(function(C){z(o,q);C.stopPropagation()});E(o,q)},position:I.position,pipe:function(){return[function(o,n){if(!n)return null;var s=true;a.each(n.off_columns||{},function(C){if(!o.off_columns[C]&&n.off_columns[C])s=false});var q=o.off_columns;if(s)o.off_columns=n.off_columns;return{undo:function(C,t){C.off_columns=q;return[C,t]}}}]}}}})(jQuery);(function(a){a.fn.new_table_config=function(M,I,F,B){return{columns:function(E,v){a.each(E.columns,function(z,o){z=E.colconf[o];B("unshowable",z)._any||v.push(B("layout_th",o,z)._last)})}}}})(jQuery);(function(a){a.fn.newtable_decorate=function(M,I,F){function B(z,o,n,s,q){for(var C=[],t=0;t<o.length;t++){var b=o[t](z,n,s,q);b&&C.push(b)}return C}function E(z,o,n,s,q,C,t){a.each(F,function(b,j){if(j[q]&&j[q][o]&&j[q][o][n]){b=B(n,j[q][o][n],s,C,t);z[n]||(z[n]=[]);z[n]=z[n].concat(b)}});a.each(z,function(b,j){j.sort(function(r,l){return(l.prio||50)-(r.prio||50)})})}function v(z,o,n){var s={};z=z.data("keymeta")||{};var q={};a.each(z,function(C,t){C=C.split("/",2);if(C[0]=="decorate")q[C[1]]=t});s={};a.each(q,function(C,t){a.each(t,function(b,j){E(s,C,b,j,o,n,q)})});return s}return{prio:90,paint:function(z,o,n){return[function(){for(var s=v(z,"decorate_one")[o]||[],q=0;q<s.length;q++)n=s[q].go(n);if(n=="")n="No data";return n}]},pipe:function(z){return[function(){return{dundo:function(o,n,s,q,C){o=[];for(var t=v(z,"decorators",s),b=0;b<n.length;b++)o[b]=n[b];for(b=q;b<q+C;b++){for(var j=[],r=0;r<n[b].length;r++){var l=n[b][r],u=s[r];if(l===da||l===null)l="";if(t[u]){u=t[u];for(var G=0;G<u.length;G++)l=u[G].go(l,n[b],s)}l||(l="-");j[r]=l}o[b]=j}return o}}}]}}}})(jQuery);(function(a){a.fn.newtable_decorate_also=function(M){function I(B,E,v){var z={};a.each(v,function(o,n){z[n]=o});return{go:function(o,n){for(var s=E["*"].cols||[],q=[],C=true,t=0;t<s.length;t++){var b=s[t],j=n[z[b]];if(j===null||j===da)C=false;else q.push("<small>("+n[z[b]]+")</small>")}if(!C)return o;return o+" "+q.join(" ")}}}var F={};a.each(M.colconf,function(B,E){if(E.decorate&&a.inArray("also",E.decorate)!=-1)F[B]=[I]});return{decorators:{also:F}}}})(jQuery);(function(a){a.fn.newtable_decorate_editorial=function(M){function I(B,E,v){B=B;if(E["*"]&&E["*"].source)B=E["*"].source;for(var z=-1,o=0;o<v.length;o++)if(v[o]==B)z=o;return{go:function(n,s){if(z==-1)return n;if(!n)return"-";s=s[z];var q=E[s];if(!q)return n;return'<div align="center"><div title="'+(q.helptip||s)+'" class="_ht score '+q.cssclass+'">'+n+"</div></div>"}}}var F={};a.each(M.colconf,function(B,E){if(E.decorate&&a.inArray("editorial",E.decorate)!=-1)F[B]=[I]});return{decorators:{editorial:F}}}})(jQuery);(function(a){a.fn.newtable_decorate_fancy_position=function(M){function I(){return{go:function(B){var E=B.match(/^(.*?):(\d+)-(\d+)([+-]?)$/);if(E){B=E[2]+"-"+E[3];if(E[2]==E[3])B=E[2];B="<b>"+E[1]+"</b>:"+B;if(E[4])B+=" ("+E[4]+")"}return B}}}var F={};a.each(M.colconf,function(B,E){if(E.decorate&&a.inArray("fancy_position",E.decorate)!=-1)F[B]=[I]});return{decorators:{fancy_position:F}}}})(jQuery);(function(a){function M(I,F){return'<div class="coltab"><span class="coltab-tab" style="background-color: '+I+';">&nbsp;</span><div class="coltab-text">'+F+"</div></div>"}a.fn.newtable_decorate_iconic=function(I){function F(z,o){return{go:function(n){var s=o[n]||{};if(s.icon)n='<img src="'+s.icon+'"/>'+n;else if(s.coltab)n=M(s.coltab,n);return n}}}function B(z,o,n,s){var q=null,C={};a.each(n,function(b,j){C[j]=b});var t=false;if(o["*"]&&o["*"].icon_source){q=C[o["*"].icon_source];t=true}return{prio:10,go:function(b,j){var r=b.split("~"),l=o;if(q||q===0){r=[j[q]];l=s.iconic[o["*"].icon_source]}j="";for(var u=0;u<r.length;u++){var G="",O={};if(l[r[u]])O=l[r[u]];if(O.icon){var U="";if(O.helptip)U+=' class="_tht" title="'+
O.helptip+'" ';G+='<img src="'+O.icon+'" '+U+"/>"}else{if(O.helptip)G='<span class="ht _tht"><span class="_ht_tip hidden">'+O.helptip+"</span>";G+=r[u];r[u]||(G+="-");if(O.helptip)G+="</span>";if(O.coltab)G=M(O.coltab,G)}j+=G}if(t){if(j!="")j+=" ";j+=b}if(!r.length||b==="")j="-";return j}}}var E={},v={};a.each(I.colconf,function(z,o){if(o.decorate&&a.inArray("iconic",o.decorate)!=-1){E[z]=[B];v[z]=[F]}});return{decorators:{iconic:E},decorate_one:{iconic:v}}}})(jQuery);(function(a){function M(I,F,B,E,v){var z=[I],o=[F],n=[B];if((I||"").charAt(0)=="\r"){z=I.substring(1).split("\r");o=F.substring(1).split("\r")}if((B||"").charAt(0)=="\r")n=B.substring(1).split("\r");html="";for(I=0;I<o.length;I++){if(I)html+=", ";F=o[I];B=v;if(I<n.length)B+=' title="'+n[I]+'"';if(z[I])F='<a href="'+z[I]+'"'+B+">"+F+"</a>";html+=F}if(E)html+='<br /><span class="small" style="white-space:nowrap;"><b>ID: </b>'+E+"</span>";return html}a.fn.newtable_decorate_link=function(I){function F(E,v,z){var o={};a.each(z,function(n,s){o[s]=n});if(v["*"]&&v["*"].base_url)if(v["*"].base_url.match(/\?/)){v["*"].query=function(n){var s={};a.each(n.split("?")[1].split(/\;|\&/),function(q,C){C=C.split("=");s[C[0]]=C[1]});return s}(v["*"].base_url);v["*"].base_url=v["*"].base_url.split(/\?/)[0]}return{go:function(n,s){if(v["*"]){var q="";if(v["*"].url_rel)q=' rel="'+v["*"].url_rel+'"';if(v["*"].url_column){var C="";if(v["*"].title_column)C=s[o[v["*"].title_column]];var t="";if(v["*"].extra_column)t=s[o[v["*"].extra_column]];var b=s[o[v["*"].url_column]];n=M(b,n,C,t,q)}else if(v["*"].base_url){b=v["*"].base_url;C=v["*"].params||{};t=v["*"].query||{};var j=true;for(var r in C)if(C.hasOwnProperty(r)){var l=C[r];l=C[r]?s[o[l]]:false;if(l===null||l===da)j=false;else if(l===false)delete t[r];else t[r]=encodeURIComponent(l)}if(!j)return n;b=function(u,G){return(G=a.map(G,function(O,U){return U+"="+O}).sort().join(";"))?u+"?"+G:u}(b,t);n=n.match(/<a/)?n.replace(/href="/g,'href="'+b):'<a href="'+b+'"'+q+">"+n+"</a>"}}return n}}}var B={};a.each(I.colconf,function(E,v){if(v.decorate&&a.inArray("link",v.decorate)!=-1)B[E]=[F]});return{decorators:{link:B}}}})(jQuery);(function(a){a.fn.newtable_decorate_recolour=function(M){function I(B,E){var v;if(E["*"]&&E["*"].recolour)v=E["*"].recolour;return{go:function(z){if(!v)return z;a.each(v,function(o,n){z=z.replace(new RegExp(o,"g"),'<span style="color:'+n+'">'+o+"</span>")});return z}}}var F={};a.each(M.colconf,function(B,E){if(E.decorate&&a.inArray("recolour",E.decorate)!=-1)F[B]=[I]});return{decorators:{recolour:F}}}})(jQuery);(function(a){function M(F,B){for(var E=[];;){var v=F.exec(B);if(v===null){E.push(B);break}else{E.push(B.substring(0,v.index));B=B.substring(v.index);E.push(B.substring(0,v[0].length));B=B.substring(v[0].length)}}return E}function I(F,B){return'<div class="newtable_toggle"><span class="newtable_toggle_short">'+F+'</span><span class="newtable_toggle_long">'+B+'</span><span class="newtable_toggle_img"/></div>'}a.fn.newtable_decorate_toggle=function(F){function B(v,z,o){var n={};a.each(o,function(s,q){n[q]=s});return{go:function(s,q){var C=z["*"].max||20;if(z["*"].separator){var t=RegExp(z["*"].separator||"s");s=M(t,s)}else s=s.split("");t=s.slice();var b="",j=false,r=z["*"].highlight_col,l=z["*"].highlight_over||0,u,G=[],O=2;if(r&&s.length>2*l)u=q[n[r]];if(z["*"].highlight_pos&&u){G=u.split(",").map(Number).sort();O=1}for(q=0;q<s.length;q+=O){if(s[q].length>C){s[q]=s[q].substring(0,C-2)+"...";j=true}if(G.length)for(r=G.length-1;r>=0;r--){l=new RegExp("^(.{"+
(G[r]-1)+"})(.{1})?(.+)?$");if(l=s[q].match(l)){s[q]=l[1]+(l[2]?"<b>"+l[2]+"</b>":"")+(l[3]?l[3]:"");t[q]=l[1]+(l[2]?"<b>"+l[2]+"</b>":"")+(l[3]?l[3]:"")}}else if(r=s[q]==u){s[q]="<b>"+s[q]+"</b>";t[q]="<b>"+t[q]+"</b>"}b+=s[q];if(q<s.length-1)b+=s[q+1]}return j?I(b,t.join("")):t.join("")}}}var E={};a.each(F.colconf,function(v,z){if(z.decorate&&a.inArray("toggle",z.decorate)!=-1)E[v]=[B]});return{decorators:{toggle:E},go_data:function(v){v.find(".newtable_toggle_img").on("click",function(){a(this).closest(".newtable_toggle").toggleClass("open")})}}}})(jQuery);(function(a){a.fn.newtable_diagonal=function(M){function I(){return{go:function(B){return'<div style="text-align: center">'+B+"</div>"}}}var F={};a.each(M.colconf,function(B,E){if(E.heading&&E.heading.diagonal)F[B]=[I]});return{prio:75,decorate_heading:function(B,E,v,z){if(z===da)z=v;if(B.heading&&B.heading.diagonal){B=a("<span/>").html(z).addClass("newtable_diagonal");E.addClass("newtable_diagonal_th");return a("<div/>").append(B).html()}else{E.addClass("newtable_not_diagonal_th");return z}},decorators:{diagonal:F}}}})(jQuery);(function(a){a.fn.newtable_export=function(M,I){function F(B,E){B.trigger("spawn",[{format:"export"},E])}return{generate:function(){return'<div><a class="newtable_export" href="#">Export</a><iframe class="newtable_export_iframe"></iframe></div>'},go:function(B,E){a("a",E).on("click",function(){F(B,a(".newtable_export_iframe",E));return false})},position:I.position,position_order:90}}})(jQuery);(function(a){function M(I){for(var F in I)if(I.hasOwnProperty(F))return false;return true}a.fn.new_table_filter=function(I,F,B){function E(m,x,H){var y;a.each(B,function(P,N){if(N[x])for(P=0;P<N[x].length;P++)if(N[x][P].name==m)y=N[x][P]});if(y)return y;if(H!==null)return E(H,x,null);return null}function v(m,x,H,y){var P=y?"pri":"sec";y="Filter table rows by "+H+".";if(x==""){x="more";y="Filter by other columns."}m='<li class="t prec_'+P+'" data-idx="'+m+'"><div class="x"><span></span></div><div class="b"><span class="k _ht">'+H+'</span><span class="v _ht">All</span><div class="m newtable_filtertype_'+x+'" data-filter="'+
x+'">'+H+"</div></div></li>";x=a("<div/>");x.append(a(m)).find(".b ._ht").attr("title",y);return x.html()}function z(m,x,H){var y=x.find(".m");a(".newtable_filter li .m:visible").each(function(){y.length&&y[0]==this||G(a(this))});if(x.length&&!H)if(y.is(":visible"))G(y);else{C(m,x,y);u(y)}}function o(m){a(".newtable_filter .prec_sec",m).length||m.find(".more").hide()}function n(m){var x=m.closest(".new_table_wrapper");if(m.hasClass("prec_sec")){m.removeClass("prec_sec").addClass("prec_pri");o(x)}}
function s(m,x){var H=a("<ul/>");a(".newtable_filter .prec_sec",m).each(function(){var y=a(this);a("<li/>").text(a(".k",y).text()).appendTo(H).on("click",function(P){n(y);z(m,y,false);P.stopPropagation()})});x.empty().append(H)}function q(m,x,H,y){var P=a("<ul/>").appendTo(m),N=a("<li/>").html("Apply &raquo;").addClass("apply").appendTo(P);y||N.addClass("unchanged");m.closest(".m").on("okable",function(W,V){N.toggleClass("unchanged",V?false:true)});N.click(function(){if(!a(this).hasClass("unchanged")){G(m.closest(".m"));l(x,H,H.data("filter-state"));r(x,H);x.trigger("view-updated")}});a("<li/>").text("Cancel").addClass("cancel").appendTo(P).click(function(){G(m.closest(".m"))})}function C(m,x,H){var y=x.data("idx");if(y==-1)s(m,H);else{y=I.columns[y];var P=(m.data("view").filter||{})[y]||{},N=I.colconf[y].range,W=(m.data("ranges")||{})[y];W||(W=[]);var V=m.data("keymeta").filter;if(V)V=V[y];N=E(N,"filters","class");var X=a("<div/>");H.empty().append(X);H=a('<div class="head"/>').appendTo(X);var Z=I.colconf[y];Z=Z.filter_label||Z.label||Z.title||y;a('<div class="title"/>').appendTo(H).html(Z);$summary=a('<div class="summary"/>').html("&#x00A0;").appendTo(H);var ga=a('<div class="more"/>').text("more rows pending").appendTo($summary);m.on("flux-load",function(ha,ka){ga.toggle(ka)});m.trigger("flux-update",["load"]);a(".new_table_loading:visible",m);$stext=a('<div class="summary_text"/>').html("&#x00A0;").appendTo($summary);if(N.visible(W)){H=!!x.find(".m:visible").length;Z=x.data("filter-state");if(H&&Z!==da)P=Z;N.display(X,x,W,P,V,y,m);y=a('<div class="tail"/>').appendTo(X);q(y,m,x,H)}else a("<div/>").addClass("none_present").text("None present").appendTo(X)}}function t(m){var x=a(".newtable_filter",m),H=a(".t",x);x.toggle(!!H.length);o(m)}function b(m,x,H){m=m.columns[x.closest("li").data("idx")];H.filter&&H.filter.hasOwnProperty(m)&&delete H.filter[m];M(H.filter)&&delete H.filter}function j(m,x,H,y,P,N){if((x.filter||{}).hasOwnProperty(y)){x=H.text(x.filter[y],P,N);a(".v",m).text(x);m.addClass("restricted");n(m)}else{a(".v",m).text("All");m.removeClass("restricted")}}function r(m,x){var H=m.data("view"),y=x.data("idx");if(y==-1)x.addClass("more");else{y=I.columns[y];var P=(m.data("keymeta")||{}).filter;if(P)P=P[y];var N=(m.data("ranges")||{})[y]||{},W=E(I.colconf[y].range,"filters","class");j(x,H,W,y,N,P);t(m)}m=a(".m",x);m.length&&m.is(":visible")&&u(m)}function l(m,x,H){var y=m.data("view");if(!y.filter)y.filter={};x=x.data("idx");x=I.columns[x];if(M(H))delete y.filter[x];else y.filter[x]=H;M(y.filter)&&delete y.filter;m.data("view",y)}function u(m){m.closest(".b").find("._ht:data(ui-tooltip)").helptip("close");m.show();var x=m.offset().left+m.width();x>a("html").width()&&m.css("left",a("html").width()-x-8+"px")}function G(m){m.hide()}function O(m,x,H,y){a.each(y,function(P,N){a.each(N,function(W){W==x&&H.value(m,null,0)})})}function U(m,x,H,y){a.each(y,function(P,N){a.each(N,function(W,V){W==x&&a.each(V,function(X){X!="*"&&H.value(m,X,0)})})})}function K(m,x,H,y,P){for(var N=0;N<y.length;N++){var W=m[y[N]],V=da;if(P&&P.enumerate&&P.enumerate[y[N]])V=P.enumerate[y[N]]["*"];if(W){var X={};if(V){V.from_keymeta&&U(X,y[N],W,P);if(V.merge)X=W.merge(X,V.merge)}V=da;if(P&&P.filter&&P.filter[y[N]])V=P.filter[y[N]]["*"];V&&V.maybe_blank&&O(X,y[N],W,P);for(V=0;V<H.length;V++){var Z=H[V][N];if(Z!==da){Z=W.split&&Z!==null?W.split(Z):[Z];if(!(Z===da||Z===null))for(var ga=0;ga<Z.length;ga++)W.value(X,Z[ga],1)}}if(W.finish)X=W.finish(X,y[N],P);x[y[N]]=X}else if(V&&V.merge)x[y[N]]=V.merge}return x}function w(m,x,H){m.undo=function(X,Z){delete X.enumerate;return[X,Z]};var y=(x||{}).filter||{};H=(H||{}).filter||{};var P={};a.each(y,function(X){P[X]=1});var N=1;a.each(H,function(X){P.hasOwnProperty(X)||(N=0)});if(!N)return null;var W=0;a.each(P,function(X){var Z=I.colconf[X];if(Z)if((Z=a.find_type(B,Z))&&Z.match){P[X]=Z;W++}else N=0;else{P[X]=null;W++}});if(!N||!W)return null;var V={};a.each(P,function(X){for(var Z=0;Z<I.columns.length;Z++)if(I.columns[Z]==X)V[X]=Z});m.undo=function(X,Z,ga){delete X.enumerate;for(var ha={},ka=0;ka<ga.length;ka++)ha[ga[ka]]=ka;ga=[];for(ka=0;ka<Z.length;ka++){var la=true;a.each(P,function(oa,pa){if(pa!==null){var A=Z[ka][ha[oa]];A=A===null||A===da?[A]:pa.split?pa.split(A):[A];for(var p=false,c=0;c<A.length;c++)if(pa.match(y[oa],A[c])){p=true;break}p||(la=false)}});la&&ga.push(Z[ka])}X.filter=y;return[X,ga]};m.all_rows=true;delete x.filter}function T(m,x){var H=I.colconf[x];if(!H.range)return"";var y="";y=H.filter_label||H.label||x;if(!H.range)return"";L[x]=H;return v(m,H.range,y,H.primary)}var L={};return{generate:function(){var m="",x=[];a.each(I.columns,function(H,y){x.push([I.colconf[y].primary,H,T(H,y)])});x.sort(function(H,y){if(H[0])return y[0]?H[0]-y[0]:-1;return y[0]?1:H[1]-y[1]});a.each(x,function(H,y){m+=y[2]});m+=v(-1,"","Filter Other Columns",true);return'<div class="newtable_filter"><span class="intro">Filter</span><ul>'+m+"</ul></div>"},position:F.position,go:function(m,x){a("li.t",x).on("update",function(H,y){a(this).data("filter-state",y);a(this).find(".apply").removeClass("unchanged")});m.on("range-updated",function(){a("li.t",x).each(function(){var H=a(this);r(m,H);var y=a(".m",H);if(y.is(":visible")){C(m,H,y);u(y)}})});a(".x",x).on("click",function(H){var y=m.data("view");b(I,a(this),y);m.data("view",y);m.trigger("view-updated");y=a(this).closest("li");r(m,y);a(".newtable_filter li .m:visible",x).each(function(){G(a(this))});H.stopPropagation()});a("li.t",x).each(function(){r(m,a(this))});a("html").on("click",function(H){if(m.closest("html").length){var y=a(H.target).closest(".newtable_filter li.t");H=a(H.target).closest(".newtable_filter li.t .m");z(m,y,!!H.length)}});a(".b ._ht",x).helptip()},pipe:function(){return[function(m,x){var H=[],y={};a.each(L,function(N,W){if(W=a.find_type(B,W))y[N]=W;else H.push(N)});if(H.length)m.enumerate=H;else delete m.enumerate;var P={eundo:function(N,W,V,X){return K(y,N,W,V,X)}};M(m.filter)&&delete m.filter;w(P,m,x);return P}]}}}})(jQuery);(function(a){function M(o,n,s){var q=0,C=0;a.each(s,function(t,b){C++;n[b]||q++});o.text("("+q+"/"+C+" on)");o.closest(".m").trigger("okable",[q?true:false])}function I(o,n,s,q,C,t){for(var b=true,j=0;j<n.length;j++)if(!q[n[j]]!=!!s[n[j]]){b=false;break}o.find(".bakery li").each(function(){var r=a(this);r.data(C)==t&&r.toggleClass("disabled",b)})}function F(o,n,s,q){var C={};a.each(s||{},function(r,l){if(!(r=="*"||!l.baked))for(var u=0;u<l.baked.length;u++){C[l.baked[u]]||(C[l.baked[u]]={});C[l.baked[u]][r]=1}});var t=((s||{})["*"]||{}).bakery||[];for(s=0;s<t.length;s++){var b=t[s].key,j=C[b];j&&I(o,q,j,n,"bake",b)}t={};for(s=0;s<q.length;s++)t[q[s]]=1;I(o,q,[],n,"all","off");I(o,q,t,n,"all","on")}function B(o,n,s,q,C,t,b){var j={};n.children("ul").children("li").each(function(){var r=a(this),l=r.data("key"),u=((C||{})[l]||{}).baked||[],G=false;if(s=="bakery")for(var O=0;O<u.length;O++){if(u[O]==q)G=true}else if(s=="all"){if(q===true)G=true;if(q===false)G=false}else{G=r.hasClass("on");if(l==q)G=!G}if(G)r.addClass("on");else{j[l]=1;r.removeClass("on")}});o.trigger("update",j);M(t,j,b);F(o,j,C,b)}function E(o,n){o.attr("title",n).addClass("_ht").helptip()}
function v(o,n,s,q,C,t,b){t=[];var j=a("<li/>").text("Turn All Off").data("all","off");E(j,"Turn off all types below");t.push(j);j.click(function(){B(s,n,"all",false,b,q,C)});var r=((b||{})["*"]||{}).bakery||[];for(j=0;j<r.length;j++){var l=a("<li/>").text(r[j].label).data("bake",r[j].key);E(l,r[j].helptip);t.push(l);(function(u){l.click(function(){B(s,n,"bakery",r[u].key,b,q,C)})})(j)}j=a("<li/>").addClass("allon").text("Turn All On").data("all","on");E(j,"Turn on all types below");t.push(j);j.click(function(){B(s,n,"all",true,b,q,C)});o=a("<ul/>").addClass("bakery").appendTo(o);t[0].addClass("first");t[t.length-1].addClass("last");t.length>2&&t[t.length-1].addClass("last_of_many");for(j=0;j<t.length;j++)o.append(t[j])}function z(o,n){n=((n||{})["*"]||{}).bakefoot||[];if(n.length){o=a("<ul/>").appendTo(o);for(var s=0;s<n.length;s++)a("<li/>").appendTo(o).html(n[s])}}a.fn.newtable_filter_class=function(o){return{filters:[{name:"class",display:function(n,s,q,C,t,b,j){var r=o.colconf[b],l=a(".summary_text",n).text("(x/y on)"),u=a('<div class="baked"/>').appendTo(n),G=a('<div class="bakefoot"/>').appendTo(n),O=a('<div class="body"/>').appendTo(n),U=q.counts,K=q.keys.slice();v(u,O,s,l,K,b,t);z(G,t);r.filter_sorted||K.sort(function(L,m){return L.localeCompare(m)});var w,T=[0];if(K.length>4){T=[0,K.length/3,2*K.length/3];O.addClass("use_cols")}n=K.indexOf("");if(n!==-1){K.splice(n,1);K.push("")}a.each(K,function(L,m){if(L>=T[0]){w=a("<ul/>").appendTo(O);T.shift()}L=a("<li/>").data("key",m).appendTo(w);var x=U[m];a("<div/>").text("("+
x+")").addClass("more").appendTo(L);x=a("<div/>").addClass("main").appendTo(L);j.trigger("paint-individual",[x,b,m]);L.data("val",m);C[m]||L.addClass("on");L.on("click",function(){B(s,O,"one",m,t,l,K)})});M(l,C,K);F(s,C,t,K)},text:function(n,s){var q={};a.each(n,function(b){q[b]=1});var C=[],t=[];a.each(s.keys||[],function(b,j){b=j===""?"blank":j;q[j]?t.push(b):C.push(b)});n="None";if(C.length<=t.length)n=C.join(", ");else if(C.length)n="All except "+t.join(", ");if(n.length>20)n=n.substr(0,20)+"...("+
C.length+"/"+s.keys.length+")";return n},visible:function(n){return n&&n.keys&&!!n.keys.length}}]}}})(jQuery);(function(a){function M(b){return a.isNumeric(b)?parseFloat(b.toPrecision(2)):b}function I(b){b.data("position",{min:null,max:null,nulls:true,imp_nulls:true,exp_nulls:null})}function F(b,j){var r=j.min;j=j.max;var l=a(".slider",b),u=l.rangeslider("options").fixed;l=l.rangeslider("get_limits");if(r===da)r=u?l[0]:null;if(j===da)j=u?l[1]:null;b=b.data("position");b.min=r;b.max=j}function B(b){var j=a(".slider",b);b=b.data("position");j.rangeslider("set",b.min,b.max)}function E(b,j,r,l){var u=a(".slider",b);u.rangeslider("get");var G=b.data("position");G.min=j;G.max=r;if(!l){u=a(".slider",b);b=u.rangeslider("options").fixed;u=u.rangeslider("get_limits");G.imp_nulls=false;if(b&&j==u[0]&&r==u[1])G.imp_nulls=true;if(!b&&j===null&&r===null)G.imp_nulls=true}}function v(b,j){var r=b.data("position"),l=r.min===null,u=r.max===null,G=a(".slider_feedback",b);b=j.summary_prefix(b);G.text(b+(l?"Min":j.round_out(r.min))+
" - "+b+(u?"Max":j.round_out(r.max)))}function z(b){var j=a(".slider_unspecified input",b);b=b.data("position");var r=b.exp_nulls;if(r==null)r=b.imp_nulls;if(j.length)r?j.prop("checked",true):j.prop("checked",false)}function o(b){var j=a(".slider_unspecified input",b);b.data("position").exp_nulls=j.prop("checked")}function n(b,j){B(b);v(b,j);z(b)}function s(b,j){var r=j.data("position"),l={};l.no_nulls=r.exp_nulls!==da&&r.exp_nulls!==null?!r.exp_nulls:!r.imp_nulls;b.additional_update(l,j);var u=a(".slider",j);if(u.rangeslider("options").fixed){u=u.rangeslider("get_limits");if(l.min==u[0])l.min=null;if(l.max==u[1])l.max=null}l.min=b.round_out(r.min);l.max=b.round_out(r.max);l.no_nulls||delete l.no_nulls;l.min===null&&delete l.min;l.max===null&&delete l.max;j.trigger("update",l)}function q(b,j,r,l,u,G){l=1*l;u=1*u;return a("<div/>").appendTo(j).rangeslider({min:l,max:u,fixed:G&&G["*"]&&G["*"].fixed,integer:G&&G["*"]&&G["*"].integer,soggy:G&&G["*"]&&G["*"].logarithmic,slide:function(O,U){E(r,O,U,true);v(r,b);z(r)},stop:function(O,U){E(r,O,U,false);v(r,b);z(r);s(b,r)}})}function C(b,j,r,l,u,G){var O=a("<div/>").addClass("newtable_range");a("<div/>").addClass("slider_feedback").appendTo(O);var U=a("<div/>").addClass("slider_main").appendTo(O);if(u&&u["*"]){var K=u["*"].endpoint_left,w=u["*"].endpoint_right;u["*"].slider_class&&U.addClass(u["*"].slider_class)}K||(K="");w||(w="");K&&a("<div/>").addClass("slider_left").html(K).appendTo(U);q(b,U,j,r,l,u,G);w&&a("<div/>").addClass("slider_right").html(w).appendTo(U);if(u&&u["*"]&&u["*"].blank_button){r=a("<div/>").addClass("slider_unspecified");r.append("<span>include blank</span>");l=a('<input type="checkbox"/>').appendTo(r);r.appendTo(O);l.on("click",function(){o(j);s(b,j)}).prop("checked",true)}return O}var t={position:{summary_prefix:function(b){return b.data("slider-chr")+":"},additional_update:function(b,j){b.chr=j.data("slider-chr")},preproc_values:function(b){var j=null;a.each(b,function(r,l){if(l.best)j=l});return j},text_prefix:function(b){return b.chr+
":"},draw_additional:function(b,j){b.data("slider-chr",j.chr)},round_out:function(b){return b}},range:{summary_prefix:function(){return""},additional_update:function(){},preproc_values:function(b){return b},text_prefix:function(){return""},draw_additional:function(){},round_out:function(b){return M(b)}}};a.fn.newtable_filter_range=function(){var b=[];a.each(t,function(j,r){b.push({name:j,display:function(l,u,G,O,U){G=r.preproc_values(G);a(".slider",l);U=C(r,u,G.min,G.max,U,G);I(u);r.draw_additional(u,G);l.append(U);a(".slider",U);F(u,O);n(u,r)},text:function(l,u,G){G=G&&G["*"]&&G["*"].fixed;var O=l.hasOwnProperty("min"),U=l.hasOwnProperty("max");if(!O&&!U||G&&l.min==u.min&&l.max==u.max)return l.no_nulls?"All except blank":"All";else{u=r.text_prefix(l)+(O?l.min:"Min")+" - "+r.text_prefix(l)+(U?l.max:"Max");l.no_nulls||(u+=" or blank");return u}},visible:function(l){if(!l)return false;return(l=r.preproc_values(l))&&l.hasOwnProperty("min")}})});return{filters:b}}})(jQuery);(function(a){a.fn.newtable_frame_default=function(){return{frame:function(M){for(var I=a('<div class="new_table_wrapper"/>'),F=a('<div class="new_table_top"/>').appendTo(I),B=[],E=0;E<3;E++){B[E]=a('<div class="new_table_section new_table_section_'+E+'"/>');B[E].appendTo(F)}F=a("<div/>").appendTo(I);E=a('<div class="before"/>');var v=a('<div class="newtable_controller"/>');I.prepend(v).prepend(E).append(M);return{$:I,before:{tags:["before"],$:E},controller:{tags:["controller","pre"],$:v},topper:{tags:["full","inner","full-inner","top-full-inner"],$:F},nw:{tags:["top","left","top-left"],$:B[0]},n:{tags:["top","middle","top-middle"],$:B[1]},ne:{tags:["top","right","top-right"],$:B[2]}}}}}})(jQuery);(function(a){a.fn.newtable_helptip=function(){return{go_data:function(M){a("._tht",M).on("mouseenter",function(){a(this).addClass("_ht").removeClass("_tht").helptip().helptip("open")})}}}})(jQuery);(function(a){a.fn.newtable_helptip_header=function(){return{prio:50,decorate_heading:function(M,I,F,B){if(B===da)B=F;if(M.help){M=a('<span class="ht _ht"/>').attr("title",M.help).html(B);B=a("<div/>").append(M).html()}return B}}}})(jQuery);(function(){function a(c){throw c;}function M(c,f){c=c.split(".");var d=K;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var i;c.length&&(i=c.shift());)!c.length&&f!==O?(d[i]=f):(d=d[i]?d[i]:(d[i]={}))}function I(c,f){this.index="number"===typeof f?f:0;this.i=0;this.buffer=c instanceof(w?Uint8Array:Array)?c:new(w?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&a(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function F(c){this.buffer=new(w?Uint16Array:Array)(2*c);this.length=0}function B(c){var f=c.length,d=0,i=Number.POSITIVE_INFINITY,g,h,k,D,J,S,$,Y,Q;for(Y=0;Y<f;++Y){c[Y]>d&&(d=c[Y]);c[Y]<i&&(i=c[Y])}g=1<<d;h=new(w?Uint32Array:Array)(g);k=1;D=0;for(J=2;k<=d;){for(Y=0;Y<f;++Y)if(c[Y]===k){S=0;$=D;for(Q=0;Q<k;++Q){S=S<<1|$&1;$>>=1}$=k<<16|Y;for(Q=S;Q<g;Q+=J)h[Q]=$;++D}++k;D<<=1;J<<=1}return[h,d,i]}function E(c,f){this.h=P;this.w=0;this.input=w&&c instanceof Array?new Uint8Array(c):c;this.b=0;f&&(f.lazy&&(this.w=f.lazy),"number"===typeof f.compressionType&&(this.h=f.compressionType),f.outputBuffer&&(this.a=w&&f.outputBuffer instanceof Array?new Uint8Array(f.outputBuffer):f.outputBuffer),"number"===typeof f.outputIndex&&(this.b=f.outputIndex));this.a||(this.a=new(w?Uint8Array:Array)(32768))}function v(c,f){this.length=c;this.H=f}function z(c,f){function d(na,ma){var R=na.H,ea=[],qa=0,ra;ra=W[na.length];ea[qa++]=ra&65535;ea[qa++]=ra>>16&255;ea[qa++]=ra>>24;var ca;switch(U){case 1===R:ca=[0,R-1,0];break;case 2===R:ca=[1,R-2,0];break;case 3===R:ca=[2,R-3,0];break;case 4===R:ca=[3,R-4,0];break;case 6>=R:ca=[4,R-5,1];break;case 8>=R:ca=[5,R-7,1];break;case 12>=R:ca=[6,R-9,2];break;case 16>=R:ca=[7,R-13,2];break;case 24>=R:ca=[8,R-17,3];break;case 32>=R:ca=[9,R-25,3];break;case 48>=R:ca=[10,R-33,4];break;case 64>=R:ca=[11,R-49,4];break;case 96>=R:ca=[12,R-65,5];break;case 128>=R:ca=[13,R-97,5];break;case 192>=R:ca=[14,R-129,6];break;case 256>=R:ca=[15,R-193,6];break;case 384>=R:ca=[16,R-257,7];break;case 512>=R:ca=[17,R-385,7];break;case 768>=R:ca=[18,R-513,8];break;case 1024>=R:ca=[19,R-769,8];break;case 1536>=R:ca=[20,R-1025,9];break;case 2048>=R:ca=[21,R-1537,9];break;case 3072>=R:ca=[22,R-2049,10];break;case 4096>=R:ca=[23,R-3073,10];break;case 6144>=R:ca=[24,R-4097,11];break;case 8192>=R:ca=[25,R-6145,11];break;case 12288>=R:ca=[26,R-8193,12];break;case 16384>=R:ca=[27,R-12289,12];break;case 24576>=R:ca=[28,R-16385,13];break;case 32768>=R:ca=[29,R-24577,13];break;default:a("invalid distance")}ra=ca;ea[qa++]=ra[0];ea[qa++]=ra[1];ea[qa++]=ra[2];R=0;for(qa=ea.length;R<qa;++R)Y[Q++]=ea[R];ia[ea[0]]++;fa[ea[3]]++;ja=na.length+ma-1;$=null}var i,g,h,k,D,J={},S,$,Y=w?new Uint16Array(2*f.length):[],Q=0,ja=0,ia=new(w?Uint32Array:Array)(286),fa=new(w?Uint32Array:Array)(30),aa=c.w,ba;if(!w){for(h=0;285>=h;)ia[h++]=0;for(h=0;29>=h;)fa[h++]=0}ia[256]=1;i=0;for(g=f.length;i<g;++i){h=D=0;for(k=3;h<k&&i+h!==g;++h)D=D<<8|f[i+h];J[D]===O&&(J[D]=[]);h=J[D];if(!(0<ja--)){for(;0<h.length&&32768<i-h[0];)h.shift();if(i+3>=g){$&&d($,-1);h=0;for(k=g-i;h<k;++h){ba=f[i+h];Y[Q++]=ba;++ia[ba]}break}0<h.length?(S=o(f,i,h),$?$.length<S.length?(ba=f[i-1],Y[Q++]=ba,++ia[ba],d(S,0)):d($,-1):S.length<aa?($=S):d(S,0)):$?d($,-1):(ba=f[i],Y[Q++]=ba,++ia[ba])}h.push(i)}Y[Q++]=256;ia[256]++;c.M=ia;c.L=fa;return w?Y.subarray(0,Q):Y}function o(c,f,d){var i,g,h=0,k,D,J,S=c.length;D=0;J=d.length;a:for(;D<J;D++){i=d[J-D-1];k=3;if(3<h){for(k=h;3<k;k--)if(c[i+k-1]!==c[f+k-1])continue a;k=h}for(;258>k&&f+k<S&&c[i+k]===c[f+k];)++k;k>h&&(g=i,h=k);if(258===k)break}return new v(h,f-g)}function n(c,f){var d=c.length,i=new F(572),g=new(w?Uint8Array:Array)(d),h,k;if(!w)for(k=0;k<d;k++)g[k]=0;for(k=0;k<d;++k)0<c[k]&&i.push(k,c[k]);c=Array(i.length/2);h=new(w?Uint32Array:Array)(i.length/2);if(1===c.length)return g[i.pop().index]=1,g;k=0;for(d=i.length/2;k<d;++k){c[k]=i.pop();h[k]=c[k].value}f=s(h,h.length,f);k=0;for(d=c.length;k<d;++k)g[c[k].index]=f[k];return g}function s(c,f,d){function i(ia){var fa=J[ia][S[ia]];fa===f?(i(ia+1),i(ia+1)):--k[fa];++S[ia]}var g=new(w?Uint16Array:Array)(d),h=new(w?Uint8Array:Array)(d),k=new(w?Uint8Array:Array)(f),D=Array(d),J=Array(d),S=Array(d),$=(1<<d)-f,Y=1<<d-1,Q,ja;g[d-1]=f;for(Q=0;Q<d;++Q){$<Y?(h[Q]=0):(h[Q]=1,$-=Y);$<<=1;g[d-2-Q]=(g[d-1-Q]/2|0)+f}g[0]=h[0];D[0]=Array(g[0]);J[0]=Array(g[0]);for(Q=1;Q<d;++Q){g[Q]>2*g[Q-1]+h[Q]&&(g[Q]=2*g[Q-1]+h[Q]);D[Q]=Array(g[Q]);J[Q]=Array(g[Q])}for($=0;$<f;++$)k[$]=d;for(Y=0;Y<g[d-1];++Y){D[d-1][Y]=c[Y];J[d-1][Y]=Y}for($=0;$<d;++$)S[$]=0;1===h[d-
1]&&(--k[0],++S[d-1]);for(Q=d-2;0<=Q;--Q){d=$=0;ja=S[Q+1];for(Y=0;Y<g[Q];Y++){d=D[Q+1][ja]+D[Q+1][ja+1];d>c[$]?(D[Q][Y]=d,J[Q][Y]=f,ja+=2):(D[Q][Y]=c[$],J[Q][Y]=$,++$)}S[Q]=0;1===h[Q]&&i(Q)}return k}function q(c){var f=new(w?Uint16Array:Array)(c.length),d=[],i=[],g=0,h,k,D;h=0;for(k=c.length;h<k;h++)d[c[h]]=(d[c[h]]|0)+1;h=1;for(k=16;h<=k;h++){i[h]=g;g+=d[h]|0;g<<=1}h=0;for(k=c.length;h<k;h++){g=i[c[h]];i[c[h]]+=1;d=f[h]=0;for(D=c[h];d<D;d++){f[h]=f[h]<<1|g&1;g>>>=1}}return f}function C(c,f){this.l=[];this.m=32768;this.e=this.g=this.c=this.q=0;this.input=w?new Uint8Array(c):c;this.s=false;this.n=X;this.C=false;if(f||!(f={})){f.index&&(this.c=f.index);f.bufferSize&&(this.m=f.bufferSize);f.bufferType&&(this.n=f.bufferType);f.resize&&(this.C=f.resize)}switch(this.n){case V:this.b=32768;this.a=new(w?Uint8Array:Array)(32768+this.m+258);break;case X:this.b=0;this.a=new(w?Uint8Array:Array)(this.m);this.f=this.K;this.t=this.I;this.o=this.J;break;default:a(Error("invalid inflate mode"))}}function t(c,f){for(var d=c.g,i=c.e,g=c.input,h=c.c,k=g.length;i<f;){h>=k&&a(Error("input buffer is broken"));d|=g[h++]<<i;i+=8}g=d&(1<<f)-1;c.g=d>>>f;c.e=i-f;c.c=h;return g}function b(c,f){var d=c.g,i=c.e,g=c.input,h=c.c,k=g.length,D=f[0];for(f=f[1];i<f&&!(h>=k);){d|=g[h++]<<i;i+=8}g=D[d&(1<<f)-1];k=g>>>16;c.g=d>>k;c.e=i-k;c.c=h;return g&65535}function j(c){function f(D,J,S){var $,Y=this.z,Q,ja;for(ja=0;ja<D;)switch($=b(this,J),$){case 16:for(Q=3+t(this,2);Q--;)S[ja++]=Y;break;case 17:for(Q=3+t(this,3);Q--;)S[ja++]=0;Y=0;break;case 18:for(Q=11+t(this,7);Q--;)S[ja++]=0;Y=0;break;default:Y=S[ja++]=$}this.z=Y;return S}var d=t(c,5)+257,i=t(c,5)+1,g=t(c,4)+4,h=new(w?Uint8Array:Array)(Z.length),k;for(k=0;k<g;++k)h[Z[k]]=t(c,3);if(!w){k=g;for(g=h.length;k<g;++k)h[Z[k]]=0}g=B(h);h=new(w?Uint8Array:Array)(d);k=new(w?Uint8Array:Array)(i);c.z=0;c.o(B(f.call(c,d,g,h)),B(f.call(c,i,g,k)))}function r(c){if("string"===typeof c){c=c.split("");var f,d;f=0;for(d=c.length;f<d;f++)c[f]=(c[f].charCodeAt(0)&255)>>>0;c=c}f=1;d=0;for(var i=c.length,g,h=0;0<i;){g=1024<i?1024:i;i-=g;do{f+=c[h++];d+=f}while(--g);f%=65521;d%=65521}return(d<<16|f)>>>0}function l(c,f){var d,i;this.input=c;this.c=0;if(f||!(f={})){f.index&&(this.c=f.index);f.verify&&(this.N=f.verify)}d=c[this.c++];i=c[this.c++];switch(d&15){case A:this.method=A;break;default:a(Error("unsupported compression method"))}0!==((d<<8)+i)%31&&a(Error("invalid fcheck flag:"+((d<<8)+i)%31));i&32&&a(Error("fdict flag is not supported"));this.B=new C(c,{index:this.c,bufferSize:f.bufferSize,bufferType:f.bufferType,resize:f.resize})}function u(c,f){this.input=c;this.a=new(w?Uint8Array:Array)(32768);this.h=p.k;c={};var d;if((f||!(f={}))&&"number"===typeof f.compressionType)this.h=f.compressionType;for(d in f)c[d]=f[d];c.outputBuffer=this.a;this.A=new E(this.input,c)}function G(c,f){var d,i,g,h;if(Object.keys)d=Object.keys(f);else for(i in d=[],g=0,f)d[g++]=i;g=0;for(h=d.length;g<h;++g){i=d[g];M(c+"."+i,f[i])}}var O=void 0,U=true,K=this,w="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;I.prototype.f=function(){var c=this.buffer,f,d=c.length,i=new(w?Uint8Array:Array)(d<<1);if(w)i.set(c);else for(f=0;f<d;++f)i[f]=c[f];return this.buffer=i};I.prototype.d=function(c,f,d){var i=this.buffer,g=this.index,h=this.i,k=i[g];d&&1<f&&(c=8<f?(y[c&255]<<24|y[c>>>8&255]<<16|y[c>>>16&255]<<8|y[c>>>24&255])>>32-f:y[c]>>8-f);if(8>f+h){k=k<<f|c;h+=f}else for(d=0;d<f;++d){k=k<<1|c>>f-d-1&1;8===++h&&(h=0,i[g++]=y[k],k=0,g===i.length&&(i=this.f()))}i[g]=k;this.buffer=i;this.i=h;this.index=g};I.prototype.finish=function(){var c=this.buffer,f=this.index,d;0<this.i&&(c[f]<<=8-this.i,c[f]=y[c[f]],f++);w?(d=c.subarray(0,f)):(c.length=f,d=c);return d};var T=new(w?Uint8Array:Array)(256),L;for(L=0;256>L;++L){var m=L,x=m,H=7;for(m>>>=1;m;m>>>=1){x<<=1;x|=m&1;--H}T[L]=(x<<H&255)>>>0}var y=T;F.prototype.getParent=function(c){return 2*((c-2)/4|0)};F.prototype.push=function(c,f){var d,i,g=this.buffer;d=this.length;g[this.length++]=f;for(g[this.length++]=c;0<d;)if(i=this.getParent(d),g[d]>g[i]){c=g[d];g[d]=g[i];g[i]=c;c=g[d+1];g[d+1]=g[i+1];g[i+1]=c;d=i}else break;return this.length};F.prototype.pop=function(){var c,f,d=this.buffer,i,g,h;f=d[0];c=d[1];this.length-=2;d[0]=d[this.length];d[1]=d[this.length+1];for(h=0;;){g=2*h+2;if(g>=this.length)break;g+2<this.length&&d[g+2]>d[g]&&(g+=2);if(d[g]>d[h]){i=d[h];d[h]=d[g];d[g]=i;i=d[h+1];d[h+1]=d[g+1];d[g+1]=i}else break;h=g}return{index:c,value:f,length:this.length}};var P=2;T={NONE:0,r:1,k:P,O:3};var N=[];for(L=0;288>L;L++)switch(U){case 143>=L:N.push([L+48,8]);break;case 255>=L:N.push([L-144+400,9]);break;case 279>=L:N.push([L-256+0,7]);break;case 287>=L:N.push([L-280+192,8]);break;default:a("invalid literal: "+L)}E.prototype.j=function(){var c,f,d,i,g=this.input;switch(this.h){case 0:d=0;for(i=g.length;d<i;){f=w?g.subarray(d,d+65535):g.slice(d,d+65535);d+=f.length;var h=d===i,k=O,D=k=O;D=k=O;var J=this.a,S=this.b;if(w){for(J=new Uint8Array(this.a.buffer);J.length<=S+f.length+
5;)J=new Uint8Array(J.length<<1);J.set(this.a)}k=h?1:0;J[S++]=k|0;k=f.length;D=~k+65536&65535;J[S++]=k&255;J[S++]=k>>>8&255;J[S++]=D&255;J[S++]=D>>>8&255;if(w){J.set(f,S);S+=f.length;J=J.subarray(0,S)}else{k=0;for(D=f.length;k<D;++k)J[S++]=f[k];J.length=S}this.b=S;this.a=J}break;case 1:f=new I(w?new Uint8Array(this.a.buffer):this.a,this.b);f.d(1,1,U);f.d(1,2,U);g=z(this,g);i=0;for(h=g.length;i<h;i++)if(d=g[i],I.prototype.d.apply(f,N[d]),256<d){f.d(g[++i],g[++i],U);f.d(g[++i],5);f.d(g[++i],g[++i],U)}else if(256===d)break;this.a=f.finish();this.b=this.a.length;break;case P:d=new I(w?new Uint8Array(this.a.buffer):this.a,this.b);var $,Y,Q,ja=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ia,fa;k=Array(19);var aa;J=P;d.d(1,1,U);d.d(J,2,U);g=z(this,g);D=n(this.M,15);ia=q(D);J=n(this.L,7);S=q(J);for($=286;257<$&&0===D[$-1];$--);for(Y=30;1<Y&&0===J[Y-1];Y--);var ba=$,na=Y;c=new(w?Uint32Array:Array)(ba+na);var ma=new(w?Uint32Array:Array)(316),R,ea;fa=new(w?Uint8Array:Array)(19);for(aa=Q=0;aa<ba;aa++)c[Q++]=D[aa];for(aa=0;aa<na;aa++)c[Q++]=J[aa];if(!w){aa=0;for(na=fa.length;aa<na;++aa)fa[aa]=0}aa=R=0;for(na=c.length;aa<na;aa+=Q){for(Q=1;aa+Q<na&&c[aa+Q]===c[aa];++Q);ba=Q;if(0===c[aa])if(3>ba)for(;0<ba--;){ma[R++]=0;fa[0]++}else for(;0<ba;){ea=138>ba?ba:138;ea>ba-3&&ea<ba&&(ea=ba-3);10>=ea?(ma[R++]=17,ma[R++]=ea-3,fa[17]++):(ma[R++]=18,ma[R++]=ea-11,fa[18]++);ba-=ea}else if(ma[R++]=c[aa],fa[c[aa]]++,ba--,3>ba)for(;0<ba--;){ma[R++]=c[aa];fa[c[aa]]++}else for(;0<ba;){ea=6>ba?ba:6;ea>ba-3&&ea<ba&&(ea=ba-3);ma[R++]=16;ma[R++]=ea-3;fa[16]++;ba-=ea}}c=w?ma.subarray(0,R):ma.slice(0,R);fa=n(fa,7);for(aa=0;19>aa;aa++)k[aa]=fa[ja[aa]];for(Q=19;4<Q&&0===k[Q-1];Q--);ja=q(fa);d.d($-257,5,U);d.d(Y-1,5,U);d.d(Q-4,4,U);for(aa=0;aa<Q;aa++)d.d(k[aa],3,U);aa=0;for(k=c.length;aa<k;aa++)if(i=c[aa],d.d(ja[i],fa[i],U),16<=i){aa++;switch(i){case 16:h=2;break;case 17:h=3;break;case 18:h=7;break;default:a("invalid code: "+i)}d.d(c[aa],h,U)}h=[ia,D];S=[S,J];i=h[0];h=h[1];J=S[0];ia=S[1];S=0;for(k=g.length;S<k;++S)if(f=g[S],d.d(i[f],h[f],U),256<f){d.d(g[++S],g[++S],U);D=g[++S];d.d(J[D],ia[D],U);d.d(g[++S],g[++S],U)}else if(256===f)break;this.a=d.finish();this.b=this.a.length;break;default:a("invalid compression type")}return this.a};L=function(){function c(g){switch(U){case 3===g:return[257,g-3,0];case 4===g:return[258,g-4,0];case 5===g:return[259,g-5,0];case 6===g:return[260,g-6,0];case 7===g:return[261,g-7,0];case 8===g:return[262,g-8,0];case 9===g:return[263,g-9,0];case 10===g:return[264,g-10,0];case 12>=g:return[265,g-11,1];case 14>=g:return[266,g-13,1];case 16>=g:return[267,g-15,1];case 18>=g:return[268,g-17,1];case 22>=g:return[269,g-19,2];case 26>=g:return[270,g-23,2];case 30>=g:return[271,g-27,2];case 34>=g:return[272,g-31,2];case 42>=g:return[273,g-35,3];case 50>=g:return[274,g-43,3];case 58>=g:return[275,g-51,3];case 66>=g:return[276,g-59,3];case 82>=g:return[277,g-67,4];case 98>=g:return[278,g-83,4];case 114>=g:return[279,g-99,4];case 130>=g:return[280,g-115,4];case 162>=g:return[281,g-131,5];case 194>=g:return[282,g-163,5];case 226>=g:return[283,g-195,5];case 257>=g:return[284,g-227,5];case 258===g:return[285,g-258,0];default:a("invalid length: "+g)}}var f=[],d,i;for(d=3;258>=d;d++){i=c(d);f[d]=i[2]<<24|i[1]<<16|i[0]}return f}();var W=w?new Uint32Array(L):L,V=0,X=1;L={F:V,D:X};C.prototype.p=function(){for(;!this.s;){var c=t(this,3);c&1&&(this.s=U);c>>>=1;switch(c){case 0:c=this.input;var f=this.c,d=this.a,i=this.b,g=c.length,h=O,k=O,D=d.length;k=O;this.e=this.g=0;f+1>=g&&a(Error("invalid uncompressed block header: LEN"));h=c[f++]|c[f++]<<8;f+1>=g&&a(Error("invalid uncompressed block header: NLEN"));k=c[f++]|c[f++]<<8;h===~k&&a(Error("invalid uncompressed block header: length verify"));f+h>c.length&&a(Error("input buffer is broken"));switch(this.n){case V:for(;i+h>d.length;){k=D-i;h-=k;if(w){d.set(c.subarray(f,f+k),i);i+=k;f+=k}else for(;k--;)d[i++]=c[f++];this.b=i;d=this.f();i=this.b}break;case X:for(;i+h>d.length;)d=this.f({v:2});break;default:a(Error("invalid inflate mode"))}if(w){d.set(c.subarray(f,f+h),i);i+=h;f+=h}else for(;h--;)d[i++]=c[f++];this.c=f;this.b=i;this.a=d;break;case 1:this.o(oa,pa);break;case 2:j(this);break;default:a(Error("unknown BTYPE: "+c))}}return this.t()};m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var Z=w?new Uint16Array(m):m;m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];var ga=w?new Uint16Array(m):m;m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var ha=w?new Uint8Array(m):m;m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var ka=w?new Uint16Array(m):m;m=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var la=w?new Uint8Array(m):m;m=new(w?Uint8Array:Array)(288);x=0;for(H=m.length;x<H;++x)m[x]=143>=x?8:255>=x?9:279>=x?7:8;var oa=B(m);m=new(w?Uint8Array:Array)(30);x=0;for(H=m.length;x<H;++x)m[x]=5;var pa=B(m);C.prototype.o=function(c,f){var d=this.a,i=this.b;this.u=c;for(var g=d.length-258,h,k,D;256!==(h=b(this,c));)if(256>h){i>=g&&(this.b=i,d=this.f(),i=this.b);d[i++]=h}else{h=h-257;D=ga[h];0<ha[h]&&(D+=t(this,ha[h]));h=b(this,f);k=ka[h];0<la[h]&&(k+=t(this,la[h]));for(i>=g&&(this.b=i,d=this.f(),i=this.b);D--;)d[i]=d[i++-k]}for(;8<=this.e;){this.e-=8;this.c--}this.b=i};C.prototype.J=function(c,f){var d=this.a,i=this.b;this.u=c;for(var g=d.length,h,k,D;256!==(h=b(this,c));)if(256>h){i>=g&&(d=this.f(),g=d.length);d[i++]=h}else{h=h-257;D=ga[h];0<ha[h]&&(D+=t(this,ha[h]));h=b(this,f);k=ka[h];0<la[h]&&(k+=t(this,la[h]));for(i+D>g&&(d=this.f(),g=d.length);D--;)d[i]=d[i++-k]}for(;8<=this.e;){this.e-=8;this.c--}this.b=i};C.prototype.f=function(){var c=new(w?Uint8Array:Array)(this.b-32768),f=this.b-32768,d,i,g=this.a;if(w)c.set(g.subarray(32768,c.length));else{d=0;for(i=c.length;d<i;++d)c[d]=g[d+32768]}this.l.push(c);this.q+=c.length;if(w)g.set(g.subarray(f,f+32768));else for(d=0;32768>d;++d)g[d]=g[f+d];this.b=32768;return g};C.prototype.K=function(c){var f,d=this.input.length/this.c+1|0,i,g,h,k=this.input,D=this.a;c&&("number"===typeof c.v&&(d=c.v),"number"===typeof c.G&&(d+=c.G));2>d?(i=(k.length-this.c)/this.u[2],h=258*(i/2)|0,g=h<D.length?D.length+h:D.length<<1):(g=D.length*d);w?(f=new Uint8Array(g),f.set(D)):(f=D);return this.a=f};C.prototype.t=function(){var c=0,f=this.a,d=this.l,i,g=new(w?Uint8Array:Array)(this.q+(this.b-32768)),h,k,D,J;if(0===d.length)return w?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);h=0;for(k=d.length;h<k;++h){i=d[h];D=0;for(J=i.length;D<J;++D)g[c++]=i[D]}h=32768;for(k=this.b;h<k;++h)g[c++]=f[h];this.l=[];return this.buffer=g};C.prototype.I=function(){var c,f=this.b;w?this.C?(c=new Uint8Array(f),c.set(this.a.subarray(0,f))):(c=this.a.subarray(0,f)):(this.a.length>f&&(this.a.length=f),c=this.a);return this.buffer=c};l.prototype.p=function(){var c=this.input,f,d;f=this.B.p();this.c=this.B.c;this.N&&(d=(c[this.c++]<<24|c[this.c++]<<16|c[this.c++]<<8|c[this.c++])>>>0,d!==r(f)&&a(Error("invalid adler-32 checksum")));return f};var A=8,p=T;u.prototype.j=function(){var c,f,d,i,g=0;i=this.a;c=A;switch(c){case A:f=Math.LOG2E*Math.log(32768)-8;break;default:a(Error("invalid compression method"))}f=f<<4|c;i[g++]=f;switch(c){case A:switch(this.h){case p.NONE:d=0;break;case p.r:d=1;break;case p.k:d=2;break;default:a(Error("unsupported compression type"))}break;default:a(Error("invalid compression method"))}c=d<<6|0;i[g++]=c|31-(256*f+c)%31;c=r(this.input);this.A.b=g;i=this.A.j();g=i.length;w&&(i=new Uint8Array(i.buffer),i.length<=g+4&&(this.a=new Uint8Array(i.length+4),this.a.set(i),i=this.a),i=i.subarray(0,g+4));i[g++]=c>>24&255;i[g++]=c>>16&255;i[g++]=c>>8&255;i[g++]=c&255;return i};M("Zlib.Inflate",l);M("Zlib.Inflate.prototype.decompress",l.prototype.p);G("Zlib.Inflate.BufferType",{ADAPTIVE:L.D,BLOCK:L.F});M("Zlib.Deflate",u);M("Zlib.Deflate.compress",function(c,f){return(new u(c,f)).j()});M("Zlib.Deflate.prototype.compress",u.prototype.j);G("Zlib.Deflate.CompressionType",{NONE:p.NONE,FIXED:p.r,DYNAMIC:p.k})}).call(this);(function(a){function M(b){b=b.parents();if(!b.length)return false;if(a(b[b.length-1]).prop("tagName")!="HTML")return false;return true}function I(b,j){var r=j.offset().top;j=r+j.outerHeight(true);n[b]=[r-s,j+s]}function F(){for(var b=0;b<o.length;b++){I(b,o[b]);if(!M(o[b])){o.splice(b,1);n.splice(b,1);b--}}}function B(b){b.trigger("awaken");b.addClass("__awake");F()}function E(b){b.trigger("sleepen");b.removeClass("__awake");F()}function v(){for(var b=a(sa).scrollTop(),j=b+a(sa).height(),r=a(ta).height(),l;;){for(l=0;l<o.length;l++)if(!o[l].hasClass("__awake"))if(j>n[l][0]&&b<n[l][1]){B(o[l]);break}break}for(l=0;l<o.length;l++)if(n[l][0]<q/2||n[l][1]>r-q/2)o[l].removeClass("__miles_away");else if(n[l][0]-b>q||j-n[l][1]>q){if(!o[l].hasClass("__miles_away")){o[l].addClass("__miles_away");o[l].hasClass("__awake")&&E(o[l])}}else o[l].removeClass("__miles_away")}function z(){var b;F();v();var j=a(sa).scrollTop(),r=j+a(sa).height(),l=a(ta).height(),u=[null,null,null,null];for(b=0;b<o.length;b++){var G=3;if(n[b][1]>l-q/2)G=2;if(n[b][0]<q&&!u[1])G=1;if(r>n[b][0]&&j<n[b][1])G=0;o[b].hasClass("__awake")||o[b].hasClass("__miles_away")||(u[G]=o[b])}for(b=0;b<u.length;b++)if(u[b]){B(u[b]);break}}var o=[],n=[],s=1E3,q=5E4,C=a.debounce(v,500);a(sa).scroll(function(){C()});a.fn.lazy=function(){this.each(function(){var b=a(this);if(b.hasClass("__lazy"))b.removeClass("__awake");else{o.push(b);I(o.length-1,b);b.addClass("__lazy")}})};var t=a.debounce(F,500);a.lazy=function(b){if(b=="refresh")t();else if(b=="periodic")setInterval(function(){t();C()},5E3);else b=="eager"&&z()}})(jQuery);(function(a){a.fn.new_table_loading=function(M,I){return{generate:function(){return'<span class="new_table_thinking">working</span>'},go:function(F){a(".new_table_thinking",F).hide()},flux:function(F,B,E){F=a(".new_table_"+B+"ing",F);E?F.show():F.hide()},position:I.position,position_order:1}}})(jQuery);(function(a){a.fn.newtable_pager=function(M,I){function F(q,C){var t,b=[];for(t=0;t<o&&t+q<C;t++)b.push(q+t);for(t=0;(b.length<o||t<z+2)&&q>t;t++){b.unshift(q-t-1);b.length>o&&b.pop()}if(b[0]!==0){for(t=0;t<z+1;t++)b.shift();b.unshift(-1);for(t=0;t<z;t++)b.unshift(z-t-1)}if(b[b.length-1]!=C-1){for(t=0;t<n+1;t++)b.pop();b.push(-1);for(t=0;t<n;t++)b.push(C-n+t)}return b}function B(q,C){var t=q.data("view");t.pagerows=[C*s,(C+1)*s];q.data("view",t).trigger("view-updated")}function E(){var q=parseInt(a(this).attr("href").substring(1));B($table,q);e.stopPropagation()}function v(q,C,t){q=a(".newtable_pager",q).empty();t=F(C,t);for(var b=0;b<t.length;b++)if(t[b]==-1)a("<li/>").text("...").appendTo(q);else if(t[b]==C)a("<li/>").text(C+1).appendTo(q);else{var j=a('<a href="#'+t[b]+'"/>').text(t[b]+1);j.on("click",E);a("<li/>").append(j).appendTo(q)}}var z=2,o=10,n=2,s=10;return{generate:function(){return'<ul class="newtable_pager"></ul>'},go:function(){},position:I.position,size:function(q,C){var t=q.data("view").pagerows;a(".newtable_pager",q).empty();if(t&&C){t=t[0]/s;C=Math.floor((C+s-1)/s);t<C&&v(q,t,C)}}}}})(jQuery);(function(a){a.fn.new_table_pagesize=function(M,I){return{generate:function(){var F='Show <div class="new_table_pagesize new_table_widget"><select size="1">';a.each(I.sizes,function(B,E){B=E;if(E===0){B="All";E=-1}F+='<option value="'+E+'">'+B+"</option>"});F+="</select></div> entries";return F},go:function(F,B){var E=F.data("view");if(E.hasOwnProperty("pagesize")){a("option",B).removeAttr("selected");a('option[value="'+E.pagesize+'"]',B).attr("selected",true)}a("select",B).change(function(){var v=a("option:selected",a(this)),z=F.data("view");z.rows=[0,parseInt(v.val())];F.data("view",z);F.trigger("view-updated")})},position:I.position}}})(jQuery);(function(a){function M(v,z,o){z=parseFloat(z);o=parseFloat(o);z=(o-z)/200;if(z===0)z=1;if(v.integer)z=1;return z}function I(v,z){return function(o,n){o=v.data("options");var s=n.values[0];n=n.values[1];if(!o.fixed){if(s==v.slider("option","min"))s=null;if(n==v.slider("option","max"))n=null}z(F(o,s,1),F(o,n,1))}}function F(v,z,o){return v.soggy?o?Math.pow(z,2):Math.pow(z,0.5):z}var B={fixed:false,integer:false,soggy:false},E={init:function(v){v=a.extend({},B,v);var z=F(v,v.min,0),o=F(v,v.max,0);v.step=M(v,z,o);z=v.fixed?z:z-v.step;o=v.fixed?o:o+v.step;this.each(function(){a(this).addClass("slider").data("options",v).slider({range:true,step:v.step,min:z,max:o,values:[z,o],slide:I(a(this),v.slide),stop:I(a(this),v.stop)})})},get:function(){var v=this.data("options"),z=this.slider("option","values").slice();if(!v.fixed){if(z[0]==this.slider("option","min"))z[0]=null;if(z[1]==this.slider("option","max"))z[1]=null}z[0]=F(v,z[0],1);z[1]=F(v,z[1],1);return z},set:function(v,z){var o=this.data("options"),n=this.slider("option","values").slice()||[];if(v===null)n[0]=this.slider("option","min");else if(v!==da)n[0]=F(o,v,0);if(z===null)n[1]=this.slider("option","max");else if(z!==da)n[1]=F(o,z,0);this.slider("option","values",[parseFloat(n[0]),parseFloat(n[1])])},get_limits:function(){var v=this.data("options"),z=v.fixed?0:v.step;return[F(v,this.slider("option","min")+z,1),F(v,this.slider("option","max")-z,1)]},set_limits:function(v,z){var o=this.data("options"),n=o.fixed?0:o.step;v!==da&&this.slider("option","min",F(o,parseFloat(v),0)-n);z!==da&&this.slider("option","max",F(o,parseFloat(z),0)+n)},options:function(){return this.data("options")}};a.fn.rangeslider=function(v){if(E[v]){var z=Array.prototype.slice.call(arguments,1);return E[v].apply(this,z)}else if(typeof v==="object"||!v)return E.init.apply(this,arguments);else a.error("No such method "+v)}})(jQuery);(function(a){a.fn.new_table_search=function(M,I,F,B){function E(o){return o}
function v(o,n,s,q,C){for(var t=0;t<n.length;t++){var b=s[t];if(C[b]!==da)if(n[t])if(!B("unshowable",o[b])._any){var j=n[t];if(C[b])j=C[b](j);if(j===da)return false;if(~j.toLowerCase().indexOf(q))return true}}return false}function z(o,n){n=n.trim();if(o.data("search-value")!=n){o.data("search-value",n);var s=o.data("view");if(n!=="")s.search=n;else delete s.search;o.data("view",s).trigger("view-updated")}}if(typeof String.prototype.trim!=="function")String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};return{generate:function(){return'<input class="search" placeholder="Search..."/>'},go:function(o,n){var s=a(".search",n),q=a.whenquiet(function(C){z(C,s.val())},1E3);s.on("propertychange change keyup paste input",function(){q(o)});(n=o.data("view").search)&&s.val(n);o.on("view-updated",function(){var C=o.data("view").search;C&&s.val(C)})},position:I.position,pipe:function(){return[function(o){var n=o.search,s=n,q=o.hasOwnProperty("search");delete o.search;q||(s="");if(!s)return null;var C={};o=o.off_columns||{};for(var t=0;t<M.columns.length;t++)if(!o[M.columns[t]]){var b=a.find_type(F,M.colconf[M.columns[t]]),j;if(b)j=b.clean;j||(j=E);if(j)C[M.columns[t]]=j}return{undo:function(r,l,u){for(var G=[],O=0;O<l.length;O++)v(M.colconf,l[O],u,s.toLowerCase(),C)&&G.push(l[O]);if(q)r.search=n;return[r,G]},all_rows:true}}]}}}})(jQuery);(function(a){a.fn.newtable_sortui=function(){return{decorate_heading:function(M,I,F,B){a("div",I).css("margin-right","12px");M.sort&&I.addClass("sorting");return B}}}})(jQuery);(function(a){a.fn.new_table_style=function(M,I){return{generate:function(){var F='Layout <div class="new_table_pagesize"><select size="1">';a.each(I.styles,function(B,E){B=E[0];var v=E[1];if(E===0)v="All";F+='<option value="'+B+'">'+v+"</option>"});F+="</select></div>";return F},go:function(F,B){var E=F.data("view");if(E.hasOwnProperty("format")){a("option",B).removeAttr("selected");a('option[value="'+E.format+'"]',B).attr("selected",true)}a("select",B).change(function(){var v=a("option:selected",a(this)),z=F.data("view");z.format=v.val();F.data("view",z);F.trigger("view-updated")})}}}})(jQuery);(function(a){function M(K,w){return K.then(function(T){var L=a.Deferred();setTimeout(function(){L.resolve(T)},w);return L})}function I(K,w,T){return K.then(function(L){var m=a.Deferred();m.resolve(0);for(var x=function(y){w(y,L[y]);return a.Deferred().resolve(y+1)},H=0;H<L.length;H++)m=M(m.then(x),T);return m})}function F(K,w,T,L){var m={u:0,px:0},x=[];a.each(w.columns,function(W,V){W=w.colconf[V];var X=W.width.match(/^(\d+)(.*)$/);if(!L("unshowable",W)._any)if(!(T.off_columns&&T.off_columns[V])){x.push([X[1],X[2]]);if(X[2]=="u"||X[2]=="px")m[X[2]]+=parseInt(X[1])}});var H=K.width();m.px*=100/H;if(m.px>100)m.px=100;m.u=(100-m.px)/(m.u||1);var y=a("table:first th",K),P=0,N=0;a.each(w.columns,function(W,V){if(!L("unshowable",w.colconf[V])._any){W=y.eq(P++);if(T.off_columns&&T.off_columns[V])W.css("width","0px").addClass("invisible");else{W.css("width",x[N][0]*m[x[N][1]]+"%").removeClass("invisible");N++}}})}function B(K,w,T,L){K=[];L("columns",w,K);return"<thead><tr>"+K.join("")+"</tr></thead>"}function E(K,w){var T=w.off_columns||{};a("th",K).each(function(){var L=a(this);T[L.data("key")]?L.hide():L.show()})}function v(K,w){var T=w;a.each(K.colconf,function(L,m){if(m.type&&m.type.sort_for&&m.type.sort_for.col==w)T=L});return T}function z(K,w,T,L){var m=K.data("view"),x=[];if(m&&m.sort)x=m.sort;var H=[],y=0,P=v(w,T);a.each(x,function(N,W){if(W.key==P)y=-W.dir;else L||H.push(W)});w=w.colconf[T];y||(y=w.type&&w.type.sort_down?-1:1);H.push({key:P,dir:y});m.sort=H;K.data("view",m);K.trigger("view-updated");a("th",K).removeClass("sorting_asc").removeClass("sorting_desc");a.each(H,function(N,W){N=W.dir>0?"asc":"desc";a('th[data-key="'+T+'"]').addClass("sorting_"+N)})}function o(K){var w=a('<div class="subtable"><table><tbody></tbody></table></div>');w.on("awaken",function(){l(K,w)});w.on("sleepen",function(){u(w)});return w}function n(K){var w=0,T=0;a(".subtable",K).each(function(){var m=a(this).data("known-height");if(m){w+=m;T++}});var L=U*50;a(".subtable",K).each(function(){var m=a(this),x=m.data("known-height");!x&&x!==0&&m.css("height",L+"px")})}function s(K,w){var T=a(".subtable",K);for(w-=T.length*U;w>0;){o(K).appendTo(a(".newtable_tabular",K)).lazy();T=w;if(T>U)T=U;w-=T}n(K);a.lazy("refresh")}function q(K,w,T,L,m,x){var H=Math.floor(L.length/U);a(".subtable",K).each(function(y){if(y>H||L.length===0)a(this).remove();else if(y==H){var P=L.length-H*U;if(P===0)a(this).remove();else{C(a(this));t(K,a(this),w,L,m,y,T,y*U,P,x);r(K,y)}}});n(K);a.lazy("refresh")}function C(K){K.data("markup",[])}function t(K,w,T,L,m,x,H,y,P,N){K=[];var W=H.off_columns||{},V;for(V=0;V<T.columns.length;V++)N("unshowable",T.colconf[T.columns[V]])._any||W[T.columns[V]]||K.push(m[T.columns[V]]);m=w.data("markup")||[];N=x*U;for(V=Math.max(y-N,0);V<U&&V+N<y+P&&V+N<L.length;V++){m[V]=[];for(T=0;T<K.length;T++)m[V][T]=L[V+N][K[T]]}w.data("markup-orient",H);w.data("markup",m);w.data("xxx",x)}function b(K,w,T,L,m,x,H,y){var P=[],N=Math.floor(m/U),W=Math.floor((m+x-1)/U);for(N=N;N<=W;N++){var V=a(".subtable",K).eq(N);t(K,V,w,T,L,N,H,m,x,y);P.push(N)}return P}function j(K,w){K=a("table:first th",K);var T="",L=[],m;for(m=0;m<K.length;m++)L[m]=K.eq(m).data("key");for(L=0;L<w.length;L++){T+="<tr>";var x=0;for(m=0;m<K.length;m++){var H=K.eq(m);if(!H.hasClass("invisible")){var y="<td>";if(L===0)y='<td style="width: '+H.width()+'px">';T+=w[L][x]?y+w[L][x]+"</td>":y+"</td>";x++}}T+="</tr>"}return T}function r(K,w){K=a(a(".subtable",K).eq(w));K.data("redraw",1);K.lazy();a.lazy("refresh");return K}function l(K,w){if(w.data("redraw")){var T=w.data("markup");console.log("wakeup "+w.data("xxx"));T=w.data("markup")||"";T=j(K,T);w.data("redraw",0);if(!a("tbody",w).length){var L=a("<table><tbody></tbody></table>");w.empty().append(L)}if(ta.documentMode&&ta.documentMode<10)a("tbody",w).html(T);else a("tbody",w)[0].innerHTML=T;K.trigger("markup-activate",[w]);w.css("height","");w.data("known-height",w.height());n(K);a.lazy("refresh")}}
function u(K){K.data("redraw",1);K.css("height",K.height()+"px");K[0].innerHTML="";K.lazy()}function G(K,w){var T=K.data("markup-orient");a.orient_compares_equal(w,T)||u(K)}function O(){a.lazy("eager");setTimeout(function(){O()},3E3)}var U=250;a.fn.new_table_tabular=function(K,w,T,L){return{layout:function(m,x){return'<div class="new_table"><table>'+B(m,K,x,L)+'<tbody></tbody></table><div class="no_results">Empty Table</div><div class="newtable_tabular"></div><div class="new_table_loading"><div>more rows loading</div></div>'},layout_th:function(m,x){var H=x.label||x.title||m,y={};y["data-key"]=m||"";var P=a("<th><div/></th>");m=L("decorate_heading",x,P,H)._last;if(m===da)m=H;a("div",P).html(m);a.each(y,function(N,W){P.attr(N,W)});a.each([],function(N,W){P.addClass(W)});return a("<div/>").append(P).html()},go:function(m){a("th",m).click(function(x){z(m,K,a(this).data("key"),!x.shiftKey)});a("th ._ht",m).helptip();a.lazy("periodic",5E3)},add_data:function(m,x,H,y,P,N){var W=a(".subtable",m);F(m,K,N,L);E(m,N);s(m,y+P);for(var V={},X=0;X<H.length;X++)V[H[X]]=X;x=b(m,K,x,V,y,P,N,L);x=a.Deferred().resolve(x);var Z=false;I(x,function(ga,ha){r(m,ha);if(!Z){W.each(function(){G(a(this),N)});Z=true}},10)},truncate_to:function(m,x,H,y){x.length?a(".no_results").hide():a(".no_results").show();for(var P={},N=0;N<H.length;N++)P[H[N]]=N;q(m,K,y,x,P,L)}}};O()})(jQuery);(function(a){function M(b){try{return!isNaN(parseFloat(b))}catch(j){return false}}function I(b){if(!b)return b;return(b+"").replace(/([\d\.e\+-])\s.*$/,"$1")}function F(b,j){if(M(j))if(b.hasOwnProperty("min")){j=parseFloat(j);b.min=b.min<j?b.min:j;b.max=b.max>j?b.max:j}else b.min=b.max=j}function B(b,j){var r=true;if(!j&&j!=="")return true;if(Object.keys(b).length&&!j)return false;a.each(b,function(l){if((l||l==="")&&l==j)r=false});return r}function E(b,j){if(M(j)){j=parseFloat(j);if(b.hasOwnProperty("min")&&j<b.min)return false;if(b.hasOwnProperty("max")&&j>b.max)return false}else if(b.hasOwnProperty("no_nulls"))return!b.no_nulls;return true}function v(b,j){var r=b.chr+":";if(j.indexOf(r)===0){j=parseFloat(j.substr(r.length));if(b.hasOwnProperty("min")&&j<b.min)return false;if(b.hasOwnProperty("max")&&j>b.max)return false}else if(b.hasOwnProperty("nulls"))return b.nulls;return true}function z(b,j,r){b=b.split(/[:-]/);j=j.split(/[:-]/);for(var l=0;l<b.length;l++){var u=0;if(u=isNaN(b[l])?isNaN(j[l])?b[l].localeCompare(j[l])*r:r:isNaN(j[l])?-r:(parseFloat(b[l])-parseFloat(j[l]))*r)return u}return 0}function o(b,j,r){b=(b||"").split(/~/);if(j){for(var l=[],u=0;u<b.length;u++){var G=b[u],O=(j["decorate/iconic"][r]||{})[G];if(O&&O.order){G=""+O.order;G=Array(17-G.length).join("0")+G}else G=O&&O["export"]?O["export"]:"~"+G;l.push(G)}b=l}b.sort();b.reverse();return b.join("~")}function n(b,j,r,l,u,G){if((((u["decorate/iconic"]||{})[G]||{})["*"]||{}).icon_source)return b.localeCompare(j)*r;if(!l[b]&&l[b]!=="")l[b]=o(b,u,G);if(!l[j]&&l[j]!=="")l[j]=o(j,u,G);return l[b].localeCompare(l[j])*-r}function s(b,j,r){var l=Object.keys(b);l.sort(function(O,U){var K=(((r["decorate/iconic"]||{})[j]||{})[O]||{}).order,w=(((r["decorate/iconic"]||{})[j]||{})[U]||{}).order;if(K&&w)return K-w;if(K)return 1;if(w)return-1;if(O&&U)return O.localeCompare(U);if(O)return 1;if(U)return-1;return 0});for(var u={},G=0;G<l.length;G++)u[l[G]]=b[l[G]];return{keys:l,counts:u}}function q(b,j){var r=[],l={};a.each((b||{}).keys||{},function(u,G){r.push(G);l[G]=b.counts[G]});a.each((j||{}).keys||{},function(u,G){if(!l.hasOwnProperty(G)){r.push(G);l[G]=0}l[G]=j.counts[G]});return{keys:r,counts:l}}function C(b,j){b=a.extend({},true,b);if(j.hasOwnProperty("min")){if(!b.hasOwnProperty("min"))b.min=j.min;b.min=b.min<j.min?b.min:j.min}if(j.hasOwnProperty("max")){if(!b.hasOwnProperty("max"))b.max=j.max;b.max=b.max>j.max?b.max:j.max}return b}function t(b,j){b=a.extend({},true,b);a.each(j,function(l,u){b[l]||(b[l]={count:0,chr:l});b[l].count+=u.count;if(u.hasOwnProperty("min"))if(!b[l].min||b[l].min>u.min)b[l].min=u.min;if(u.hasOwnProperty("max"))if(!b[l].max||b[l].max<u.max)b[l].max=u.max});var r=null;a.each(b,function(l,u){if(r===null||u.count>r.count)r=u;u.best=false});if(r)r.best=true;return b}if(!Object.keys)Object.keys=function(b){var j=[];for(var r in b)b.hasOwnProperty(r)&&j.push(r);return j};a.fn.newtable_types=function(){return{types:[{name:"string",split:function(b){return b?[b]:[]},value:function(b,j){b[j]=1},finish:function(b){return Object.keys(b)},match:function(b,j){return B(b,j)},sort:function(b,j,r){return b.toLowerCase().localeCompare(j.toLowerCase())*r},merge:q},{name:"numeric",clean:function(b){return I(b)},split:function(b){return[I(b)]},value:function(b,j){F(b,j)},match:function(b,j){return E(b,j)},sort:function(b,j,r){return(parseFloat(b)-parseFloat(j))*r},merge:C},{name:"position",value:function(b,j){if(j=j.match(/^(.*?):(\d+)/)){b[j[1]]||(b[j[1]]={chr:j[1]});if(b[j[1]].hasOwnProperty("min")){b[j[1]].min=b[j[1]].min<j[2]?b[j[1]].min:j[2];b[j[1]].max=b[j[1]].max>j[2]?b[j[1]].max:j[2]}else b[j[1]].min=b[j[1]].max=j[2];if(!b[j[1]].count)b[j[1]].count=0;b[j[1]].count++}},match:function(b,j){return v(b,j)},sort:z,merge:t},{name:"iconic",split:function(b){return b?b.split(/~/):[]},value:function(b,j,r){if(r===da||r===null)r=1;if(j===null)j="";b[j]||(b[j]=0);b[j]+=r},finish:s,match:function(b,j){if(j===null&&b[""])return false;return B(b,j)},sort:n,merge:q}]}}})(jQuery);(function(a){a.fn.new_table_unshowable=function(){return{unshowable:function(M){return M.type&&M.type.screen&&M.type.screen.unshowable}}}})(jQuery)})(jQuery,this,document);
